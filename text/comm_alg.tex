%!TEX root = ../blob1.tex

\section{Commutative algebras as $n$-categories}
\label{sec:comm_alg}

\nn{should consider leaving this out; for now, make it an appendix.}

\nn{also, this section needs a little updating to be compatible with the rest of the paper.}

If $C$ is a commutative algebra it
can also be thought of as an $n$-category whose $j$-morphisms are trivial for
$j<n$ and whose $n$-morphisms are $C$. 
The goal of this \nn{subsection?} is to compute
$\bc_*(M^n, C)$ for various commutative algebras $C$.

Moreover, we conjecture that the blob complex $\bc_*(M^n, $C$)$, for $C$ a commutative 
algebra is homotopy equivalent to the higher Hochschild complex for $M^n$ with 
coefficients in $C$ (see \cite{MR0339132, MR1755114, MR2383113}).  
This possibility was suggested to us by Thomas Tradler.


\medskip

Let $k[t]$ denote the ring of polynomials in $t$ with coefficients in $k$.

Let $\Sigma^i(M)$ denote the $i$-th symmetric power of $M$, the configuration space of $i$
unlabeled points in $M$.
Note that $\Sigma^0(M)$ is a point.
Let $\Sigma^\infty(M) = \coprod_{i=0}^\infty \Sigma^i(M)$.

Let $C_*(X, k)$ denote the singular chain complex of the space $X$ with coefficients in $k$.

\begin{prop} \label{sympowerprop}
$\bc_*(M, k[t])$ is homotopy equivalent to $C_*(\Sigma^\infty(M), k)$.
\end{prop}

\begin{proof}
To define the chain maps between the two complexes we will use the following lemma:

\begin{lemma}
Let $A_*$ and $B_*$ be chain complexes, and assume $A_*$ is equipped with
a basis (e.g.\ blob diagrams or singular simplices).
For each basis element $c \in A_*$ assume given a contractible subcomplex $R(c)_* \sub B_*$
such that $R(c')_* \sub R(c)_*$ whenever $c'$ is a basis element which is part of $\bd c$.
Then the complex of chain maps (and (iterated) homotopies) $f:A_*\to B_*$ such that
$f(c) \in R(c)_*$ for all $c$ is contractible (and in particular non-empty).
\end{lemma}

\begin{proof}
\nn{easy, but should probably write the details eventually}
\nn{this is just the standard ``method of acyclic models" set up, so we should just give a reference for that}
\end{proof}

Our first task: For each blob diagram $b$ define a subcomplex $R(b)_* \sub C_*(\Sigma^\infty(M))$
satisfying the conditions of the above lemma.
If $b$ is a 0-blob diagram, then it is just a $k[t]$ field on $M$, which is a 
finite unordered collection of points of $M$ with multiplicities, which is
a point in $\Sigma^\infty(M)$.
Define $R(b)_*$ to be the singular chain complex of this point.
If $(B, u, r)$ is an $i$-blob diagram, let $D\sub M$ be its support (the union of the blobs).
The path components of $\Sigma^\infty(D)$ are contractible, and these components are indexed 
by the numbers of points in each component of $D$.
We may assume that the blob labels $u$ have homogeneous $t$ degree in $k[t]$, and so
$u$ picks out a component $X \sub \Sigma^\infty(D)$.
The field $r$ on $M\setminus D$ can be thought of as a point in $\Sigma^\infty(M\setminus D)$,
and using this point we can embed $X$ in $\Sigma^\infty(M)$.
Define $R(B, u, r)_*$ to be the singular chain complex of $X$, thought of as a 
subspace of $\Sigma^\infty(M)$.
It is easy to see that $R(\cdot)_*$ satisfies the condition on boundaries from the above lemma.
Thus we have defined (up to homotopy) a map from 
$\bc_*(M^n, k[t])$ to $C_*(\Sigma^\infty(M))$.

Next we define, for each simplex $c$ of $C_*(\Sigma^\infty(M))$, a contractible subspace
$R(c)_* \sub \bc_*(M^n, k[t])$.
If $c$ is a 0-simplex we use the identification of the fields $\cC(M)$ and 
$\Sigma^\infty(M)$ described above.
Now let $c$ be an $i$-simplex of $\Sigma^j(M)$.
Choose a metric on $M$, which induces a metric on $\Sigma^j(M)$.
We may assume that the diameter of $c$ is small --- that is, $C_*(\Sigma^j(M))$
is homotopy equivalent to the subcomplex of small simplices.
How small?  $(2r)/3j$, where $r$ is the radius of injectivity of the metric.
Let $T\sub M$ be the ``track" of $c$ in $M$.
\nn{do we need to define this precisely?}
Choose a neighborhood $D$ of $T$ which is a disjoint union of balls of small diameter.
\nn{need to say more precisely how small}
Define $R(c)_*$ to be $\bc_*(D, k[t]) \sub \bc_*(M^n, k[t])$.
This is contractible by \ref{bcontract}.
We can arrange that the boundary/inclusion condition is satisfied if we start with
low-dimensional simplices and work our way up.
\nn{need to be more precise}

\nn{still to do: show indep of choice of metric; show compositions are homotopic to the identity
(for this, might need a lemma that says we can assume that blob diameters are small)}
\end{proof}


\begin{prop} \label{ktchprop}
The above maps are compatible with the evaluation map actions of $C_*(\Diff(M))$.
\end{prop}

\begin{proof}
The actions agree in degree 0, and both are compatible with gluing.
(cf. uniqueness statement in \ref{CHprop}.)
\end{proof}

\medskip

In view of Theorem \ref{thm:hochschild}, we have proved that $HH_*(k[t]) \cong C_*(\Sigma^\infty(S^1), k)$,
and that the cyclic homology of $k[t]$ is related to the action of rotations
on $C_*(\Sigma^\infty(S^1), k)$.
\nn{probably should put a more precise statement about cyclic homology and $S^1$ actions in the Hochschild section}
Let us check this directly.

The algebra $k[t]$ has Koszul resolution 
$k[t] \tensor k[t] \xrightarrow{t\tensor 1 - 1 \tensor t} k[t] \tensor k[t]$, 
which has coinvariants $k[t] \xrightarrow{0} k[t]$. 
This is equal to its homology, so we have $HH_i(k[t]) \cong k[t]$ for $i=0,1$ and zero for $i\ge 2$.
(See also  \cite[3.2.2]{MR1600246}.) This computation also tells us the $t$-gradings: 
$HH_0(k[t]) \iso k[t]$ is in the usual grading, and $HH_1(k[t]) \iso k[t]$ is shifted up by one.

We can define a flow on $\Sigma^j(S^1)$ by having the points repel each other.
The fixed points of this flow are the equally spaced configurations.
This defines a map from $\Sigma^j(S^1)$ to $S^1/j$ ($S^1$ modulo a $2\pi/j$ rotation).
The fiber of this map is $\Delta^{j-1}$, the $(j-1)$-simplex, 
and the holonomy of the $\Delta^{j-1}$ bundle
over $S^1/j$ is induced by the cyclic permutation of its $j$ vertices.

In particular, $\Sigma^j(S^1)$ is homotopy equivalent to a circle for $j>0$, and
of course $\Sigma^0(S^1)$ is a point.
Thus the singular homology $H_i(\Sigma^\infty(S^1))$ has infinitely many generators for $i=0,1$
and is zero for $i\ge 2$.
Note that the $j$-grading here matches with the $t$-grading on the algebraic side.

By xxxx and Proposition \ref{ktchprop}, 
the cyclic homology of $k[t]$ is the $S^1$-equivariant homology of $\Sigma^\infty(S^1)$.
Up to homotopy, $S^1$ acts by $j$-fold rotation on $\Sigma^j(S^1) \simeq S^1/j$.
If $k = \z$, $\Sigma^j(S^1)$ contributes the homology of an infinite lens space: $\z$ in degree
0, $\z/j \z$ in odd degrees, and 0 in positive even degrees.
The point $\Sigma^0(S^1)$ contributes the homology of $BS^1$ which is $\z$ in even 
degrees and 0 in odd degrees.
This agrees with the calculation in \cite[3.1.7]{MR1600246}.

\medskip

Next we consider the case $C = k[t_1, \ldots, t_m]$, commutative polynomials in $m$ variables.
Let $\Sigma_m^\infty(M)$ be the $m$-colored infinite symmetric power of $M$, that is, configurations
of points on $M$ which can have any of $m$ distinct colors but are otherwise indistinguishable.
The components of $\Sigma_m^\infty(M)$ are indexed by $m$-tuples of natural numbers
corresponding to the number of points of each color of a configuration.
A proof similar to that of \ref{sympowerprop} shows that

\begin{prop}
$\bc_*(M, k[t_1, \ldots, t_m])$ is homotopy equivalent to $C_*(\Sigma_m^\infty(M), k)$.
\end{prop}

According to \cite[3.2.2]{MR1600246},
\[
	HH_n(k[t_1, \ldots, t_m]) \cong \Lambda^n(k^m) \otimes k[t_1, \ldots, t_m] .
\]
Let us check that this is also the singular homology of $\Sigma_m^\infty(S^1)$.
We will content ourselves with the case $k = \z$.
One can define a flow on $\Sigma_m^\infty(S^1)$ where points of the 
same color repel each other and points of different colors do not interact.
This shows that a component $X$ of $\Sigma_m^\infty(S^1)$ is homotopy equivalent
to the torus $(S^1)^l$, where $l$ is the number of non-zero entries in the $m$-tuple
corresponding to $X$.
The homology calculation we desire follows easily from this.

\nn{say something about cyclic homology in this case?  probably not necessary.}

\medskip

Next we consider the case $C$ is the truncated polynomial
algebra $k[t]/t^l$ --- polynomials in $t$ with $t^l = 0$.
Define $\Delta_l \sub \Sigma^\infty(M)$ to be configurations of points in $M$ with $l$ or
more of the points coinciding.

\begin{prop}
$\bc_*(M, k[t]/t^l)$ is homotopy equivalent to $C_*(\Sigma^\infty(M), \Delta_l, k)$
(relative singular chains with coefficients in $k$).
\end{prop}

\begin{proof}
\nn{...}
\end{proof}

\medskip
\hrule
\medskip

Still to do:
\begin{itemize}
\item compare the topological computation for truncated polynomial algebra with \cite{MR1600246}
\item multivariable truncated polynomial algebras (at least mention them)
\item ideally, say something more about higher hochschild homology (maybe sketch idea for proof of equivalence)
\item say something about SMCs as $n$-categories, e.g. Vect and K-theory.
\end{itemize}

