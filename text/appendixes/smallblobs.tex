%!TEX root = ../../blob1.tex
\section{The small blob complex}
\label{appendix:small-blobs}

Before proving Theorem \ref{thm:small-blobs}, we need a lemma allowing us to choose a convenient action of families of diffeomorphisms.
Say that an open cover $\cV$ is strictly subordinate to $\cU$ if the closure of every open set of $\cV$ is contained in some open set of $\cU$.

\begin{lem}
\label{lem:CH-small-blobs}
Fix an open cover $\cU$, and a sequence $\cV_k$ of open covers which are each strictly subordinate to $\cU$. For a given $k$, consider $\cG_k$ the subspace of $C_k(\Homeo(M)) \tensor \bc_*(M)$ spanned by $f \tensor b$, where $f:P^k \times M \to M$ is a $k$-parameter family of homeomorphisms such that for each $p \in P$, $f(p, -)$ makes $b$ small with respect to $\cV_k$. We can choose an up-to-homotopy representative $\ev$ of the chain map of Property \ref{property:evaluation} which gives the action of families of homeomorphisms, which restricts to give a map
$$\ev : \cG_k \subset C_k(\Homeo(M)) \tensor \bc_*(M) \to \bc^{\cU}_*(M)$$
for each $k$.
\end{lem}
\begin{rem}
We can't quite do the same with all $\cV_k$ just equal to $\cU$, but we can get by if we give ourselves arbitrarily little room to maneuver, by making the blobs we act on slightly smaller.
\end{rem}
\begin{proof}
This follows from Remark \ref{rem:for-small-blobs} following the proof of 
Proposition \ref{CHprop}.
\end{proof}

\begin{proof}[Proof of Theorem \ref{thm:small-blobs}]
We begin by describing the homotopy inverse in small degrees, to illustrate the general technique.
We will construct a chain map $s:  \bc_*(M) \to \bc^{\cU}_*(M)$ and a homotopy $h:\bc_*(M) \to \bc_{*+1}(M)$ so that $\bdy h+h \bdy=i\circ s - \id$. The composition $s \circ i$ will just be the identity.

On $0$-blobs, $s$ is just the identity; a blob diagram without any blobs is compatible with any open cover. 
\nn{KW: For some systems of fields this is not true.
For example, consider a planar algebra with boxes of size greater than zero.
So I think we should do the homotopy even in degree zero.
But as noted above, maybe it's best to ignore this.}
Nevertheless, we'll begin introducing nomenclature at this point: for configuration $\beta$ of disjoint embedded balls in $M$ we'll associate a one parameter family of homeomorphisms $\phi_\beta : \Delta^1 \to \Homeo(M)$ (here $\Delta^m$ is the standard simplex $\setc{\mathbf{x} \in \Real^{m+1}}{\sum_{i=0}^m x_i = 1}$). For $0$-blobs, where $\beta = \eset$, all these homeomorphisms are just the identity.

When $\beta$ is a collection of disjoint embedded balls in $M$, we say that a homeomorphism of $M$ `makes $\beta$ small' if the image of each ball in $\beta$ under the homeomorphism is contained in some open set of $\cU$. Further, we'll say a homeomorphism `makes $\beta$ $\epsilon$-small' if the image of each ball is contained in some open ball of radius $\epsilon$.

On a $1$-blob $b$, with ball $\beta$, $s$ is defined as the sum of two terms. Essentially, the first term `makes $\beta$ small', while the other term `gets the boundary right'. First, pick a one-parameter family $\phi_\beta : \Delta^1 \to \Homeo(M)$ of homeomorphisms, so $\phi_\beta(1,0)$ is the identity and $\phi_\beta(0,1)$ makes the ball $\beta$ small --- in fact, not just small with respect to $\cU$, but $\epsilon/2$-small, where $\epsilon > 0$ is such that every $\epsilon$-ball is contained in some open set of $\cU$. Next, pick a two-parameter family $\phi_{\eset \prec \beta} : \Delta^2 \to \Homeo(M)$ so that $\phi_{\eset \prec \beta}(0,x_1,x_2)$ makes the ball $\beta$ $\frac{3\epsilon}{4}$-small for all $x_1+x_2=1$, while $\phi_{\eset \prec \beta}(x_0,0,x_2) = \phi_\beta(x_0,x_2)$ and $\phi_{\eset \prec \beta}(x_0,x_1,0) = \phi_\eset(x_0,x_1)$. (It's perhaps not obvious that this is even possible --- see Lemma \ref{lem:extend-small-homeomorphisms} below.) We now define $s$ by
$$s(b) = \restrict{\phi_\beta}{x_0=0}(b) - \restrict{\phi_{\eset \prec \beta}}{x_0=0}(\bdy b).$$
Here, $\restrict{\phi_\beta}{x_0=0} = \phi_\beta(0,1)$ is just a homeomorphism, which we apply to $b$, while $\restrict{\phi_{\eset \prec \beta}}{x_0=0}$ is a one parameter family of homeomorphisms which acts on the $0$-blob $\bdy b$ to give a $1$-blob. To be precise, this action is via the chain map identified in Lemma \ref{lem:CH-small-blobs} with $\cV_0$ the open cover by $\epsilon/2$-balls and $\cV_1$ the open cover by $\frac{3\epsilon}{4}$-balls. From this, it is immediate that $s(b) \in \bc^{\cU}_1(M)$, as desired.

We now check that $s$, as defined so far, is a chain map, calculating
\begin{align*}
\bdy (s(b)) & = \restrict{\phi_\beta}{x_0=0}(\bdy b) - (\bdy \restrict{\phi_{\eset \prec \beta}}{x_0=0})(\bdy b) \\
		 & = \restrict{\phi_\beta}{x_0=0}(\bdy b) - \restrict{\phi_\beta}{x_0=0}(\bdy b) + \restrict{\phi_\eset}{x_0=0}(\bdy b) \\
		 & = \restrict{\phi_\eset}{x_0=0}(\bdy b) \\
		 & = s(\bdy b)
\end{align*}
Next, we compute the compositions $s \circ i$ and $i \circ s$. If we start with a small $1$-blob diagram $b$, first include it up to the full blob complex then apply $s$, we get exactly back to $b$, at least assuming we adopt the convention that for any ball $\beta$ which is already small, we choose the families of homeomorphisms $\phi_\beta$ and $\phi_{\eset \prec \beta}$ to always be the identity. In the other direction, $i \circ s$, we will need to construct a homotopy $h:\bc_*(M) \to \bc_{*+1}(M)$ for $*=0$ or $1$.

The homotopy $h$ is defined by $$h(b) = \phi_\eset(b)$$ when $b$ is a $0$-blob (here $\phi_\eset$ is a one parameter family of homeomorphisms, so this is a $1$-blob), and $$h(b) = \phi_\beta(b) - \phi_{\eset \prec \beta}(\bdy b)$$ when $b$ is a $1$-blob (here $\beta$ is the ball in $b$, and the first term is the action of a one parameter family of homeomorphisms on a $1$-blob, and the second term is the action of a two parameter family of homeomorphisms on a $0$-blob, so both are $2$-blobs). We then calculate
\begin{align*}
(\bdy h+h \bdy)(b) & = \bdy (\phi_{\beta}(b) - \phi_{\eset \prec \beta}(\bdy b)) + \phi_\eset(\bdy b)  \\
	& =  \restrict{\phi_\beta}{x_0=0}(b) - \restrict{\phi_\beta}{x_1=0}(b) - \phi_\beta(\bdy b) - (\bdy \phi_{\eset \prec \beta})(\bdy b) + \phi_\eset(\bdy b) \\
	& =  \restrict{\phi_\beta}{x_0=0}(b) - b - \phi_\beta(\bdy b) - \restrict{\phi_{\eset \prec \beta}}{x_0=0}(\bdy b) +  \phi_\beta(\bdy b) - \phi_\eset(\bdy b) + \phi_\eset(\bdy b) \\
	& = \restrict{\phi_\beta}{x_0=0}(b) - b - \restrict{\phi_{\eset \prec \beta}}{x_0=0}(\bdy b) \\
	& = (i \circ s - \id)(b).
\end{align*}


In order to define $s$ on arbitrary blob diagrams, we first fix a sequence of strictly subordinate covers for $\cU$. First choose an $\epsilon > 0$ so every $\epsilon$ ball is contained in some open set of $\cU$. For $k \geq 1$, let $\cV_{k}$ be the open cover of $M$ by $\epsilon (1-2^{-k})$ balls, and $\cV_0 = \cU$. Certainly $\cV_k$ is strictly subordinate to $\cU$. We now chose the chain map $\ev$ provided by Lemma \ref{lem:CH-small-blobs} for the open covers $\cV_k$ strictly subordinate to $\cU$. Note that $\cV_1$ and $\cV_2$ have already implicitly appeared in the description above.

Next, we choose a `shrinking system' for $\left(\cU,\{\cV_k\}_{k \geq 1}\right)$, namely for each increasing sequence of blob configurations
$\beta_1 \prec \cdots \prec \beta_n$, an $n$ parameter family of diffeomorphisms
$\phi_{\beta_1 \prec \cdots \prec \beta_n} : \Delta^{n+1} \to \Diff{M}$, such that
\begin{itemize}
\item for any $x$ with $x_0 = 0$, $\phi_{\beta_1 \prec \cdots \prec \beta_n}(x)(\beta_1)$ is subordinate to $\cV_{n+1}$, and
\item for each $i = 1, \ldots, n$,
\begin{align*}
\phi_{\beta_1 \prec \cdots \prec \beta_n}&(x_0, \ldots, x_{i-1},0,x_{i+1},\ldots,x_n) = \\ &\phi_{\beta_1 \prec \cdots \prec \beta_{i-1} \prec \beta_{i+1} \prec \cdots \prec \beta_n}(x_0,\ldots, x_{i-1},x_{i+1},\ldots,x_n).
\end{align*}
\end{itemize}
Again, we've already made the choices for $\phi_{\beta}$ and for $\phi_{\eset \prec \beta}$, where $\beta$ is a single ball. It's not immediately obvious that it's possible to make such choices, but it follows readily from the following.

\begin{lem}
\label{lem:extend-small-homeomorphisms}
Fix a collection of disjoint embedded balls $\beta$ in $M$ and some open cover $\cV$. Suppose we have a map $f :  X \to \Homeo(M)$ on some compact $X$ such that for each $x \in \bdy X$, $f(x)$ makes $\beta$ $\cV$-small. Then we can extend $f$ to a map $\tilde{f} : X \times [0,1] \to \Homeo(M)$ so that $\tilde{f}(x,0) = f(x)$ and for every $x \in \bdy X \times [0,1] \cup X \times \{1\}$, $\tilde{f}(x)$ makes $\beta$ $\cV$-small.
\end{lem}
\begin{proof}
Fix a metric on $M$, and pick $\epsilon > 0$ so every $\epsilon$ ball in $M$ is contained in some open set of $\cV$. First construct a family of homeomorphisms $g_s : M \to M$, $s \in [1,\infty)$ so $g_1$ is the identity, and $g_s(\beta_i) \subset \beta_i$ and $\rad g_s(\beta_i) \leq \frac{1}{s} \rad \beta_i$ for each ball $\beta_i$. 
There is some $K$ which uniformly bounds the expansion factors of all the homeomorphisms $f(x)$, that is $d(f(x)(a), f(x)(b)) < K d(a,b)$ for all $x \in X, a,b \in M$. Write $S=\epsilon^{-1} K \max_i \{\rad \beta_i\}$ (note that is $S<1$, we can just take $S=1$, as already $f(x)$ makes $\beta$ small for all $x$). Now define $\tilde{f}(t, x) = f(x) \compose g_{(S-1)t+1}$.

If $x \in \bdy X$, then $g_{(S-1)t+1}(\beta_i) \subset \beta_i$, and by hypothesis $f(x)$ makes $\beta_i$ small, so $\tilde{f}(t, x)$ makes $\beta$ $\cV$-small for all $t \in [0,1]$. Alternatively, $\rad g_S(\beta_i) \leq \frac{1}{S} \rad \beta_i \leq \frac{\epsilon}{K}$, so $\rad \tilde{f}(1,x)(\beta_i) \leq \epsilon$, and so $\tilde{f}(1,x)$ makes $\beta$ $\cV$-small for all $x \in X$.
\end{proof}

In fact, the application of this Lemma would allow us to choose the families of diffeomorphisms $\phi_{\beta_1 \prec \cdots \prec \beta_n}$ so that for any $x$ with $x_0 = 0$, $\phi_{\beta_1 \prec \cdots \prec \beta_n}(x)(\beta_1)$ is subordinate to any fixed open cover, for example $\cV_1$ (that is, the covering by $\epsilon/2$ balls), not just $\cV_{n+1}$, which is a weaker condition. Regardless, because of the way we have chosen the $\ev$ map, we only ensure that $\ev(\restrict{\phi_{\beta_1 \prec \cdots \prec \beta_n}}{x_0 = 0} \tensor \beta_1) \in \bc_{\deg \beta_1 + n}^{\cU}(M)$, so the distinction is not important.

We now describe the general case. For a $k$-blob diagram $b \in \bc_k(M)$, denote by $b_\cS$ for $\cS \subset \{1, \ldots, k\}$ the blob diagram obtained by erasing the corresponding blobs. In particular, $b_\eset = b$, $b_{\{1,\ldots,k\}} \in \bc_0(M)$, and $\bdy b_\cS = \sum_{i \notin \cS} (-1)^{i+1+\card{\setc{j \in \cS}{j < i}}}  b_{\cS \cup \{i\}}$.
Similarly, for a disjoint embedding of $k$ balls $\beta$ (that is, a blob diagram but without the labels on regions), $\beta_\cS$ denotes the result of erasing a subset of blobs. 

\newcommand{\length}[1]{\operatorname{length}(#1)}

We've finally reached the point where we can define a map $s: \bc_*(M) \to \bc^{\cU}_*(M)$, and then a homotopy $h:\bc_*(M) \to \bc_{*+1}(M)$ so that $dh+hd=i\circ s$.  We have
$$s(b) = \sum_{m=0}^{k} \sum_{i \in \{1, \ldots, k\}^{m} \setminus \Delta} (-1)^{\sigma(i)}  \ev(\restrict{\phi_{i(b)}}{x_0 = 0} \tensor b_i),$$
where the sum is over sequences without repeats $i=(i_1,\ldots,i_m)$ in $\{1,\ldots,k\}$, with $0\leq m \leq k$ (we're using $\Delta$ here to indicate the generalized diagonal, where any two entries coincide), $\sigma(i)$ is defined blow, $i(b)$ denotes the increasing sequence of blob configurations
$$\beta_{(i_1,\ldots,i_m)} \prec \beta_{(i_2,\ldots,i_m)} \prec \cdots \prec \beta_{()},$$
and, as usual, $b_i$ denotes $b$ with blobs $i_1, \ldots, i_m$ erased.
The homotopy $h:\bc_*(M) \to \bc_{*+1}(M)$ is similarly given by
$$h(b) = \sum_{m=0}^{k} \sum_{i} (-1)^{\sigma(i)} \ev(\phi_{i(b)}, b_i).$$

 The signs $\sigma: \{1, \ldots, k\}^{m} \setminus \Delta \to \Integer/2\Integer$ are defined by
$$\sigma(i)= \lceil\frac{m-1}{2}\rceil  +o(i) + \sum i$$
where $o(i)$ is the number of transpositions required to bring $i$ into increasing order. Given a sequence $a \in \{1, \ldots, k\}^{m-1} \setminus \Delta$ and $1 \leq b \leq k$ with $b \not \in a$, denote by $a \!\downarrow_b\in \{1, \ldots, k-1\}^{m-1} \setminus \Delta$ the sequence obtained by reducing by 1 each entry of $a$ which is greater than $b$. We'll need the identities
\begin{align} 
\sigma(ab) & = \sigma(a\!\downarrow_b) +m + b+1 \label{eq:sigma(ab)}\\
%		  & =  \sigma(a) + m+b + 1 + \card{\setc{x \in a}{x > b}} \\
\intertext{and}
\sigma(ba) & = \sigma(a\!\downarrow_b) + b \notag \\
		 & = \sigma(a) + m+b + 1+\card{\setc{x \in a}{x < b}}. \label{eq:sigma(ba)}
\end{align}

Before completing the proof, we unpack this definition for $b \in \bc_2(M)$, a $2$-blob. We'll write $\beta$ for the underlying balls (either nested or disjoint).
Now $s$ is the sum of $5$ terms, split into three groups depending on with the length of the sequence $i$ is $0, 1$ or $2$. Thus
\begin{align*}
s(b) & = (-1)^{\sigma()} \restrict{\phi_{\beta}}{x_0 = 0}(b) + \\
	& \quad + (-1)^{\sigma(1)}  \restrict{\phi_{\beta_1 \prec \beta}}{x_0 = 0}(b_1) + (-1)^{\sigma(2)} \restrict{\phi_{\beta_2 \prec \beta}}{x_0 = 0}(b_2) + \\
	& \quad + (-1)^{\sigma(12)}  \restrict{\phi_{\eset \prec \beta_2 \prec \beta}}{x_0 = 0}(b_{12}) + (-1)^{\sigma(21)}  \restrict{\phi_{\eset \prec \beta_1 \prec \beta}}{x_0 = 0}(b_{12}).
\end{align*}

As in the $k=1$ case, the first term, corresponding to $i(b) = \eset$, makes the all balls in $\beta$ $\cV_1$-small. However, if this were the only term $s$ would not be a chain map, because we have no control over $\restrict{\phi_{\beta}}{x_0 = 0}(\bdy b)$. This necessitates the other terms, which fix the boundary at successively higher codimensions.

It may be useful to look at Figure \ref{fig:erectly-a-tent-badly} to help understand the arrangement. The red, blue and orange $2$-cells there correspond to the $m=0$, $m=1$ and $m=2$ terms respectively, while the $3$-cells (only one of each type is shown) correspond to the terms in the homotopy $h$.
\begin{figure}[!ht]
$$\mathfig{0.5}{smallblobs/tent}$$
\caption{``Erecting a tent badly.'' We know where we want to send a simplex, and each of the iterated boundary components. However, these do not agree, and we need to stitch the pieces together. Note that these diagrams don't exactly match the situation in the text: a $k$-simplex has $k+1$ boundary components, while a $k$-blob has $k$ boundary terms.}
\label{fig:erectly-a-tent-badly}
\end{figure}

Now
\begin{align*}
\bdy s(b) & =  (-1)^{\sigma()} \restrict{\phi_{\beta}}{x_0 = 0}(\bdy b) + \\
	& \quad + (-1)^{\sigma(1)} \left( \restrict{\phi_{\beta}}{x_0 = 0}(b_1) - \restrict{\phi_{\beta_1}}{x_0 = 0}(b_1) - \restrict{\phi_{\beta_1 \prec \beta}}{x_0 = 0}(b_{12}) \right) + \\
	& \quad + (-1)^{\sigma(2)} \left( \restrict{\phi_{\beta}}{x_0 = 0}(b_2) - \restrict{\phi_{\beta_2}}{x_0 = 0}(b_2) - \restrict{\phi_{\beta_2 \prec \beta}}{x_0 = 0}(b_{12}) \right) + \\
	& \quad + (-1)^{\sigma(12)} \left( \restrict{\phi_{\beta_2 \prec \beta}}{x_0 = 0}(b_{12}) - \restrict{\phi_{\eset \prec \beta}}{x_0 = 0}(b_{12}) + \restrict{\phi_{\eset \prec \beta_2}}{x_0 = 0}(b_{12}) \right) + \\ 
	& \quad + (-1)^{\sigma(21)} \left( \restrict{\phi_{\beta_1 \prec \beta}}{x_0 = 0}(b_{12}) - \restrict{\phi_{\eset  \prec \beta}}{x_0 = 0}(b_{12}) + \restrict{\phi_{\eset \prec \beta_1}}{x_0 = 0}(b_{12}) \right), \\
\intertext{while}
s(\bdy(b)) & = s(b_1) - s(b_2) \\
		& = \restrict{\phi_{\beta_1}}{x_0=0}(b_1) - \restrict{\phi_{\eset \prec \beta_1}}{x_0=0}(b_{12}) - \restrict{\phi_{\beta_2}}{x_0=0}(b_2) + \restrict{\phi_{\eset \prec \beta_2}}{x_0=0}(b_{12}) .
\end{align*}
This gives what we want, since $\sigma() = 0,\sigma(1)=1, \sigma(2)=0, \sigma(21)=1$ and $\sigma(12)=0$.

We now return to the general case. Certainly, the image of $s$ in fact lies in $\bc^{\cU}_*(M)$: each of the families of diffeomorphisms $\phi_{i(b)}$ has been chosen so with $x_0=0$ they pointwise make $b_i$ sufficiently small that the $\ev$ map we've chosen has image in $\bc^{\cU}_*(M)$.

We need to check that $s$ is a chain map.
\begin{align*}
\bdy(s(b)) & = \sum_{m=0}^{k} \sum_{i \in \{1, \ldots, k\}^{m} \setminus \Delta} (-1)^{\sigma(i)} \ev\left(\bdy(\restrict{\phi_{i(b)}}{x_0 = 0})\tensor b_i\right) + (-1)^{\sigma(i) + m} \ev\left(\restrict{\phi_{i(b)}}{x_0 = 0} \tensor \bdy b_i\right) \\
\intertext{and begin by expanding out $\bdy(\restrict{\phi_{i(b)}}{x_0 = 0})$,}
	& = \sum_{m=0}^{k} \sum_{i \in \{1, \ldots, k\}^{m} \setminus \Delta} \Bigg(\sum_{p=1}^{m+1} (-1)^{\sigma(i)+p+1} \ev\left(\restrict{\phi_{i(b)}}{x_0 = x_p = 0}\tensor b_i\right) \Bigg) + \\
	& \qquad + (-1)^{\sigma(i) + m} \ev\left(\restrict{\phi_{i(b)}}{x_0 = 0} \tensor \bdy b_i\right)
\end{align*}
Now, write $s_{p-1,p}(i)$ to indicate the sequence obtained from $i$ by transposing its $p-1$-th and $p$-th entries and note that for $2 \leq p \leq m$,
\begin{align*}
\restrict{\phi_{i(b)}}{x_0=x_p=0} & = \restrict{\phi_{\beta_{i_1\cdots i_m} \prec \beta_{i_2 \cdots i_m} \prec \cdots \prec \beta}}{x_0=x_p=0} \\
	& = \restrict{\phi_{\beta_{i_1\cdots i_m} \prec \beta_{i_2 \cdots i_m} \prec \cdots \prec \beta_{i_{p-1} i_p \cdots i_m} \prec \beta_{i_{p+1} \cdots i_m} \prec \cdots \prec \beta}}{x_0=0} \\
	& = \restrict{\phi_{s_{p-1,p}(i)(b)}}{x_0=x_p=0}.
\end{align*}
Since $\sigma(i) = - \sigma(s_{p-1,p}(i))$, we can cancel out in pairs all the terms above except those with $p=1$ or $p=m+1$. Thus
\begin{align*}
\bdy(s(b)) & = \sum_{m=0}^{k} \sum_{i \in \{1, \ldots, k\}^{m} \setminus \Delta} \Bigg((-1)^{\sigma(i)} \ev\left(\restrict{\phi_{\rest(i)(b)}}{x_0 = 0}\tensor b_i\right) + (-1)^{\sigma(i) + m} \ev\left(\restrict{\phi_{\most(i)\!\downarrow_{i_m}(b_{i_m})}}{x_0 = 0}\tensor b_i\right)\Bigg) + \\
	& \qquad + (-1)^{\sigma(i) + m} \ev\left(\restrict{\phi_{i(b)}}{x_0 = 0} \tensor \bdy b_i\right)
\end{align*}
where we use the notations $\rest(i_1 i_2 \cdots i_m) = (i_2 \cdots i_m)$ and $\most(i_1 \cdots i_{m-1} i_m) = (i_1 \cdots i_{m-1})$. Next, we note that $b_i = (b_{i_1})_{\rest(i)} = (b_{i_m})_{\most(i)}$, and then rewrite the sum of $i$ as a double sum over $i_1$ and $\rest(i)$, with $i = i_1\rest(i)$, for the first term, and as a double sum over $\most(i)$ and $i_m$, with $i = \most(i)i_m$, for the second term.
\begin{align*}
\bdy(s(b)) & = \sum_{m=0}^{k} \Bigg( \sum_{\rest(i) \in \{1, \ldots, k\}^{m-1} \setminus \Delta} \sum_{\substack{i_1 = 1 \\ i_1 \not\in \rest(i)}}^{k}  (-1)^{\sigma(i_1\rest(i))} \ev\left(\restrict{\phi_{\rest(i)(b)}}{x_0 = 0}\tensor b_{i_1\rest(i)}\right) \Bigg)+ \\
	& \qquad \Bigg( \sum_{\most(i) \in \{1, \ldots, k\}^{m-1} \setminus \Delta} \sum_{\substack{i_m = 1 \\ i_1 \not\in \most(i)}}^{k}  (-1)^{\sigma(\most(i) i_m) + m} \ev\left(\restrict{\phi_{\most(i)\!\downarrow_{i_m}(b_{i_m})}}{x_0 = 0}\tensor b_{\most(i) i_m}\right)\Bigg) + \\
	& \qquad \Bigg( \sum_{i \in \{1, \ldots, k\}^{m} \setminus \Delta} (-1)^{\sigma(i) + m} \ev\left(\restrict{\phi_{i(b)}}{x_0 = 0} \tensor \bdy b_i\right)\Bigg)
\end{align*}
We will show that the first and third rows cancel, and that the second row gives with $s(\bdy b)$.
First,
\begin{align*}
\sum_{\substack{i_1 = 1 \\ i_1 \not\in \rest(i)}}^{k} (-1)^{\sigma(i_1\rest(i))} b_{i_1\rest(i)} & =
	\sum_{\substack{i_1 = 1 \\ i_1 \not\in \rest(i)}}^{k} (-1)^{\sigma(\rest(i))+m+1+i_1 + \card{\setc{x \in \rest(i)}{x<i_1}}}  (b_{\rest(i)})_{i_1} \\
\intertext{(using Equation \eqref{eq:sigma(ba)})}
& = (-1)^{\sigma(\rest(i))+m} \bdy (b_{\rest(i)}),
\end{align*}
and this cancels exactly with the term indexed by $\rest(i)$ (with a value of $m$ off by one) in the third row.
The second row gives 
\begin{align*}
& \sum_{m=0}^k  \sum_{\most(i) \in \{1, \ldots, k\}^{m-1} \setminus \Delta} \sum_{\substack{i_m = 1 \\ i_1 \not\in \most(i)}}^{k}  (-1)^{\sigma(\most(i) i_m) + m} \ev\left(\restrict{\phi_{\most(i)\!\downarrow_{i_m}(b_{i_m})}}{x_0 = 0}\tensor b_{\most(i) i_m}\right) \\
& \quad = \sum_{m=0}^{k-1} \sum_{q=1}^k \sum_{i \in \{1, \ldots, k-1\}^m\setminus \Delta} (-1)^{\sigma(i)+q+1} \ev\left(\restrict{\phi_{i(b_{q})}}{x_0 = 0}\tensor (b_q)_i\right) \\
\intertext{(here we've used Equation \eqref{eq:sigma(ab)} and renamed $i_m$ to $q$ and $most(i)$ to $i$, as well as shifted $m$ by one), which is just}
& \quad = \sum_{q=1}^k (-1)^{q+1} s(b_q) \\
& \quad = s(\bdy b).
\end{align*}

Finally, the calculation that $\bdy h+h \bdy=i\circ s - \id$ is very similar, and we omit it.
\end{proof}
 