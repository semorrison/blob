%!TEX root = ../../blob1.tex

\section{Adapting families of maps to open covers}  \label{sec:localising}


Let $X$ and $T$ be topological spaces, with $X$ compact.
Let $\cU = \{U_\alpha\}$ be an open cover of $X$ which affords a partition of
unity $\{r_\alpha\}$.
(That is, $r_\alpha : X \to [0,1]$; $r_\alpha(x) = 0$ if $x\notin U_\alpha$;
for fixed $x$, $r_\alpha(x) \ne 0$ for only finitely many $\alpha$; and $\sum_\alpha r_\alpha = 1$.)
Since $X$ is compact, we will further assume that $r_\alpha \ne 0$ (globally) 
for only finitely
many $\alpha$.

Let
\[
	CM_*(X, T) \deq C_*(\Maps(X\to T)) ,
\]
the singular chains on the space of continuous maps from $X$ to $T$.
$CM_k(X, T)$ is generated by continuous maps
\[
	f: P\times X \to T ,
\]
where $P$ is some convex linear polyhedron in $\r^k$.
Recall that $f$ is {\it supported} on $S\sub X$ if $f(p, x)$ does not depend on $p$ when
$x \notin S$, and that $f$ is {\it adapted} to $\cU$ if 
$f$ is supported on the union of at most $k$ of the $U_\alpha$'s.
A chain $c \in CM_*(X, T)$ is adapted to $\cU$ if it is a linear combination of 
generators which are adapted.

\begin{lemma} \label{basic_adaptation_lemma}
The $f: P\times X \to T$, as above.
The there exists
\[
	F: I \times P\times X \to T
\]
such that
\begin{enumerate}
\item $F(0, \cdot, \cdot) = f$ .
\item We can decompose $P = \cup_i D_i$ so that
the restrictions $F(1, \cdot, \cdot) : D_i\times X\to T$ are all adapted to $\cU$.
\item If $f$ has support $S\sub X$, then
$F: (I\times P)\times X\to T$ (a $k{+}1$-parameter family of maps) also has support $S$.
\item If for all $p\in P$ we have $f(p, \cdot):X\to T$ is a 
[immersion, diffeomorphism, PL homeomorphism, bi-Lipschitz homeomorphism]
then the same is true of $F(t, p, \cdot)$ for all $t\in I$ and $p\in P$.
(Of course we must assume that $X$ and $T$ are the appropriate 
sort of manifolds for this to make sense.)
\end{enumerate}
\end{lemma}

\begin{proof}
Our homotopy will have the form
\eqar{
    F: I \times P \times X &\to& X \\
    (t, p, x) &\mapsto& f(u(t, p, x), x)
}
for some function
\eq{
    u : I \times P \times X \to P .
}

First we describe $u$, then we argue that it makes the conclusions of the lemma true.

For each cover index $\alpha$ choose a cell decomposition $K_\alpha$ of $P$
such that the various $K_\alpha$ are in general position with respect to each other.
If we are in one of the cases of item 4 of the lemma, also choose $K_\alpha$
sufficiently fine as described below.

\def\jj{\tilde{L}}
Let $L$ be a common refinement all the $K_\alpha$'s.
Let $\jj$ denote the handle decomposition of $P$ corresponding to $L$.
Each $i$-handle $C$ of $\jj$ has an $i$-dimensional tangential coordinate and,
more importantly for our purposes, a $k{-}i$-dimensional normal coordinate.
We will typically use the same notation for $i$-cells of $L$ and the 
corresponding $i$-handles of $\jj$.

For each (top-dimensional) $k$-cell $C$ of each $K_\alpha$, choose a point $p(C) \in C \sub P$.
Let $D$ be a $k$-handle of $\jj$.
For each $\alpha$ let $C(D, \alpha)$ be the $k$-cell of $K_\alpha$ which contains $D$
and let $p(D, \alpha) = p(C(D, \alpha))$.

For $p \in D$ we define
\eq{
    u(t, p, x) = (1-t)p + t \sum_\alpha r_\alpha(x) p(D, \alpha) .
}
(Recall that $P$ is a convex linear polyhedron, so the weighted average of points of $P$
makes sense.)

Thus far we have defined $u(t, p, x)$ when $p$ lies in a $k$-handle of $\jj$.
We will now extend $u$ inductively to handles of index less than $k$.

Let $E$ be a $k{-}1$-handle.
$E$ is homeomorphic to $B^{k-1}\times [0,1]$, and meets
the $k$-handles at $B^{k-1}\times\{0\}$ and $B^{k-1}\times\{1\}$.
Let $\eta : E \to [0,1]$, $\eta(x, s) = s$ be the normal coordinate
of $E$.
Let $D_0$ and $D_1$ be the two $k$-handles of $\jj$ adjacent to $E$.
There is at most one index $\beta$ such that $C(D_0, \beta) \ne C(D_1, \beta)$.
(If there is no such index, choose $\beta$
arbitrarily.)
For $p \in E$, define
\eq{
    u(t, p, x) = (1-t)p + t \left( \sum_{\alpha \ne \beta} r_\alpha(x) p(D_0, \alpha)
            + r_\beta(x) (\eta(p) p(D_0, \beta) + (1-\eta(p)) p(D_1, \beta)) \right) .
}


Now for the general case.
Let $E$ be a $k{-}j$-handle.
Let $D_0,\ldots,D_a$ be the $k$-handles adjacent to $E$.
There is a subset of cover indices $\cN$, of cardinality $j$, 
such that if $\alpha\notin\cN$ then
$p(D_u, \alpha) = p(D_v, \alpha)$ for all $0\le u,v \le a$.
For fixed $\beta\in\cN$ let $\{q_{\beta i}\}$ be the set of values of 
$p(D_u, \beta)$ for $0\le u \le a$.
Recall the product structure $E = B^{k-j}\times B^j$.
Inductively, we have defined functions $\eta_{\beta i}:\bd B^j \to [0,1]$ such that
$\sum_i \eta_{\beta i} = 1$ for all $\beta\in \cN$.
Choose extensions of $\eta_{\beta i}$ to all of $B^j$.
Via the projection $E\to B^j$, regard $\eta_{\beta i}$ as a function on $E$.
Now define, for $p \in E$,
\begin{equation}
\label{eq:u}
    u(t, p, x) = (1-t)p + t \left(
            \sum_{\alpha \notin \cN} r_\alpha(x) p(D_0, \alpha)
                + \sum_{\beta \in \cN} r_\beta(x) \left( \sum_i \eta_{\beta i}(p) \cdot q_{\beta i} \right)
             \right) .
\end{equation}

This completes the definition of $u: I \times P \times X \to P$.

\medskip

Next we verify that $u$ affords $F$ the properties claimed in the statement of the lemma.

Since $u(0, p, x) = p$ for all $p\in P$ and $x\in X$, $F(0, p, x) = f(p, x)$ for all $p$ and $x$.
Therefore $F$ is a homotopy from $f$ to something.


\medskip

Next we show that for each handle $D$ of $J$, $F(1, \cdot, \cdot) : D\times X \to X$
is a singular cell adapted to $\cU$.
Let $k-j$ be the index of $D$.
Referring to Equation \ref{eq:u}, we see that $F(1, p, x)$ depends on $p$ only if 
$r_\beta(x) \ne 0$ for some $\beta\in\cN$, i.e.\ only if
$x\in \bigcup_{\beta\in\cN} U_\beta$.
Since the cardinality of $\cN$ is $j$ which is less than or equal to $k$,
this shows that $F(1, \cdot, \cdot) : D\times X \to X$ is adapted to $\cU$.

\medskip

Next we show that $F$ does not increase supports.
If $f(p,x) = f(p',x)$ for all $p,p'\in P$,
then 
\[
	F(t, p, x) = f(u(t,p,x),x) = f(u(t',p',x),x) = F(t',p',x)
\]
for all $(t,p)$ and $(t',p')$ in $I\times P$.

\medskip

Now for claim 4 of the lemma.
Assume that $X$ and $T$ are smooth manifolds and that $f$ is a family of diffeomorphisms.
We must show that we can choose the $K_\alpha$'s and $u$ so that $F(t, p, \cdot)$ is a 
diffeomorphism for all $t$ and $p$.
It suffices to 
show that the derivative $\pd{F}{x}(t, p, x)$ is non-singular for all $(t, p, x)$.
We have
\eq{
%   \pd{F}{x}(t, p, x) = \pd{f}{x}(u(t, p, x), x) + \pd{f}{p}(u(t, p, x), x) \pd{u}{x}(t, p, x) .
    \pd{F}{x} = \pd{f}{x} + \pd{f}{p} \pd{u}{x} .
}
Since $f$ is a family of diffeomorphisms and $X$ and $P$ are compact, 
$\pd{f}{x}$ is non-singular and bounded away from zero.
Also, $\pd{f}{p}$ is bounded.
So if we can insure that $\pd{u}{x}$ is sufficiently small, we are done.
It follows from Equation \eqref{eq:u} above that $\pd{u}{x}$ depends on $\pd{r_\alpha}{x}$
(which is bounded)
and the differences amongst the various $p(D_0,\alpha)$'s and $q_{\beta i}$'s.
These differences are small if the cell decompositions $K_\alpha$ are sufficiently fine.
This completes the proof that $F$ is a homotopy through diffeomorphisms.

If we replace ``diffeomorphism" with ``immersion" in the above paragraph, the argument goes
through essentially unchanged.

Next we consider the case where $f$ is a family of bi-Lipschitz homeomorphisms.
We assume that $f$ is Lipschitz in $P$ direction as well.
The argument in this case is similar to the one above for diffeomorphisms, with
bounded partial derivatives replaced by Lipschitz constants.
Since $X$ and $P$ are compact, there is a universal bi-Lipschitz constant that works for 
$f(p, \cdot)$ for all $p$.
By choosing the cell decompositions $K_\alpha$ sufficiently fine,
we can insure that $u$ has a small Lipschitz constant in the $X$ direction.
This allows us to show that $F(t, p, \cdot)$ has a bi-Lipschitz constant
close to the universal bi-Lipschitz constant for $f$.

Since PL homeomorphisms are bi-Lipschitz, we have established this last remaining case of claim 4 of the lemma as well.
\end{proof}




\noop{

\nn{move this to later:}

\begin{lemma}  \label{extension_lemma_b}
Let $x \in CM_k(X, T)$ be a singular chain such that $\bd x$ is adapted to $\cU$.
Then $x$ is homotopic (rel boundary) to some $x' \in CM_k(S, T)$ which is adapted to $\cU$.
Furthermore, one can choose the homotopy so that its support is equal to the support of $x$.
If $S$ and $T$ are manifolds, the statement remains true if we replace $CM_*(S, T)$ with
chains of smooth maps or immersions.
\end{lemma}

\medskip
\hrule
\medskip


In this appendix we provide the proof of
\nn{should change this to the more general \ref{extension_lemma_b}}

\begin{lem*}[Restatement of Lemma \ref{extension_lemma}]
Let $x \in CD_k(X)$ be a singular chain such that $\bd x$ is adapted to $\cU$.
Then $x$ is homotopic (rel boundary) to some $x' \in CD_k(X)$ which is adapted to $\cU$.
Furthermore, one can choose the homotopy so that its support is equal to the support of $x$.
\end{lem*}

\nn{for pedagogical reasons, should do $k=1,2$ cases first; probably do this in
later draft}

\nn{not sure what the best way to deal with boundary is; for now just give main argument, worry
about boundary later}

}




\medskip
\hrule
\medskip
\nn{the following was removed from earlier section; it should be reincorporated somewhere
in this section}

Let $\cU = \{U_\alpha\}$ be an open cover of $X$.
A $k$-parameter family of homeomorphisms $f: P \times X \to X$ is
{\it adapted to $\cU$} if there is a factorization
\eq{
    P = P_1 \times \cdots \times P_m
}
(for some $m \le k$)
and families of homeomorphisms
\eq{
    f_i :  P_i \times X \to X
}
such that
\begin{itemize}
\item each $f_i$ is supported on some connected $V_i \sub X$;
\item the sets $V_i$ are mutually disjoint;
\item each $V_i$ is the union of at most $k_i$ of the $U_\alpha$'s,
where $k_i = \dim(P_i)$; and
\item $f(p, \cdot) = g \circ f_1(p_1, \cdot) \circ \cdots \circ f_m(p_m, \cdot)$
for all $p = (p_1, \ldots, p_m)$, for some fixed $g \in \Homeo(X)$.
\end{itemize}
A chain $x \in CH_k(X)$ is (by definition) adapted to $\cU$ if it is the sum
of singular cells, each of which is adapted to $\cU$.
\medskip
\hrule
\medskip





\input{text/appendixes/explicit.tex}

