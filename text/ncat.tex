%!TEX root = ../blob1.tex

\def\xxpar#1#2{\smallskip\noindent{\bf #1} {\it #2} \smallskip}

\section{$n$-categories (maybe)}
\label{sec:ncats}

\nn{experimental section.  maybe this should be rolled into other sections.
maybe it should be split off into a separate paper.}

Before proceeding, we need more appropriate definitions of $n$-categories, 
$A_\infty$ $n$-categories, modules for these, and tensor products of these modules.
(As is the case throughout this paper, by ``$n$-category" we mean
a weak $n$-category with strong duality.)

Consider first ordinary $n$-categories.
We need a set (or sets) of $k$-morphisms for each $0\le k \le n$.
We must decide on the ``shape" of the $k$-morphisms.
Some $n$-category definitions model $k$-morphisms on the standard bihedron (interval, bigon, ...).
Other definitions have a separate set of 1-morphisms for each interval $[0,l] \sub \r$, 
a separate set of 2-morphisms for each rectangle $[0,l_1]\times [0,l_2] \sub \r^2$,
and so on.
(This allows for strict associativity.)
Still other definitions \nn{need refs for all these; maybe the Leinster book}
model the $k$-morphisms on more complicated combinatorial polyhedra.

We will allow our $k$-morphisms to have any shape, so long as it is homeomorphic to a $k$-ball.
In other words,

\xxpar{Morphisms (preliminary version):}
{For any $k$-manifold $X$ homeomorphic 
to a $k$-ball, we have a set of $k$-morphisms
$\cC(X)$.}

Given a homeomorphism $f:X\to Y$ between such $k$-manifolds, we want a corresponding
bijection of sets $f:\cC(X)\to \cC(Y)$.
So we replace the above with

\xxpar{Morphisms:}
{For each $0 \le k \le n$, we have a functor $\cC_k$ from 
the category of manifolds homeomorphic to the $k$-ball and 
homeomorphisms to the category of sets and bijections.}

(Note: We usually omit the subscript $k$.)

We are being deliberately vague about what flavor of manifolds we are considering.
They could be unoriented or oriented or Spin or $\mbox{Pin}_\pm$.
They could be topological or PL or smooth.
(If smooth, ``homeomorphism" should be read ``diffeomorphism", and we would need
to be fussier about corners.)
For each flavor of manifold there is a corresponding flavor of $n$-category.
We will concentrate of the case of PL unoriented manifolds.

Next we consider domains and ranges of morphisms (or, as we prefer to say, boundaries
of morphisms).
The 0-sphere is unusual among spheres in that it is disconnected.
Correspondingly, for 1-morphisms it makes sense to distinguish between domain and range.
For $k>1$ and in the presence of strong duality the domain/range division makes less sense.
\nn{maybe say more here; rotate disk, Frobenius reciprocity blah blah}
We prefer to combine the domain and range into a single entity which we call the 
boundary of a morphism.
Morphisms are modeled on balls, so their boundaries are modeled on spheres:

\xxpar{Boundaries (domain and range), part 1:}
{For each $0 \le k \le n-1$, we have a functor $\cC_k$ from 
the category of manifolds homeomorphic to the $k$-sphere and 
homeomorphisms to the category of sets and bijections.}

(In order to conserve symbols, we use the same symbol $\cC_k$ for both morphisms and boundaries.)

\xxpar{Boundaries, part 2:}
{For each $X$ homeomorphic to a $k$-ball, we have a map of sets $\bd: \cC(X)\to \cC(\bd X)$.
These maps, for various $X$, comprise a natural transformation of functors.}

(Note that the first ``$\bd$" above is part of the data for the category, 
while the second is the ordinary boundary of manifolds.)

Given $c\in\cC(\bd(X))$, let $\cC(X; c) = \bd^{-1}(c)$.

Most of the examples of $n$-categories we are interested in are enriched in the following sense.
The various sets of $n$-morphisms $\cC(X; c)$, for all $X$ homeomorphic to an $n$-ball and
all $c\in \cC(\bd X)$, have the structure of an object in some auxiliary category
(e.g.\ vector spaces, or modules over some ring, or chain complexes),
and all the structure maps of the $n$-category should be compatible with the auxiliary
category structure.
Note that this auxiliary structure is only in dimension $n$;
$\cC(Y; c)$ is just a plain set if $\dim(Y) < n$.

\medskip
\nn{At the moment I'm a little confused about orientations, and more specifically
about the role of orientation-reversing maps of boundaries when gluing oriented manifolds.
Tentatively, I think we need to redefine the oriented boundary of an oriented $n$-manifold.
Instead of an ordinary oriented $(n-1)$-manifold via the inward (or outward) normal 
first (or last) convention, perhaps it is better to define the boundary to be an $(n-1)$-manifold
equipped with an orientation of its once-stabilized tangent bundle.
Similarly, in dimension $n-k$ we would have manifolds equipped with an orientation of 
their $k$ times stabilized tangent bundles.
For the moment just stick with unoriented manifolds.}
\medskip

We have just argued that the boundary of a morphism has no preferred splitting into
domain and range, but the converse meets with our approval.
That is, given compatible domain and range, we should be able to combine them into
the full boundary of a morphism:

\xxpar{Domain $+$ range $\to$ boundary:}
{Let $S = B_1 \cup_E B_2$, where $S$ is homeomorphic to a $k$-sphere ($0\le k\le n-1$),
$B_i$ is homeomorphic to a $k$-ball, and $E = B_1\cap B_2$ is homeomorphic to  a $k{-}1$-sphere.
Let $\cC(B_1) \times_{\cC(E)} \cC(B_2)$ denote the fibered product of the 
two maps $\bd: \cC(B_i)\to \cC(E)$.
Then (axiom) we have an injective map
\[
	\gl_E : \cC(B_1) \times_{\cC(E)} \cC(B_2) \to \cC(S)
\]
which is natural with respect to the actions of homeomorphisms.}

Note that we insist on injectivity above.
Let $\cC(S)_E$ denote the image of $\gl_E$.
We have ``restriction" maps $\cC(S)_E \to \cC(B_i)$, which can be thought of as
domain and range maps, relative to the choice of splitting $S = B_1 \cup_E B_2$.

If $B$ is homeomorphic to a $k$-ball and $E \sub \bd B$ splits $\bd B$ into two $k{-}1$-balls
as above, then we define $\cC(B)_E = \bd^{-1}(\cC(\bd B)_E)$.

Next we consider composition of morphisms.
For $n$-categories which lack strong duality, one usually considers
$k$ different types of composition of $k$-morphisms, each associated to a different direction.
(For example, vertical and horizontal composition of 2-morphisms.)
In the presence of strong duality, these $k$ distinct compositions are subsumed into 
one general type of composition which can be in any ``direction".

\xxpar{Composition:}
{Let $B = B_1 \cup_Y B_2$, where $B$, $B_1$ and $B_2$ are homeomorphic to $k$-balls ($0\le k\le n$)
and $Y = B_1\cap B_2$ is homeomorphic to a $k{-}1$-ball.
Let $E = \bd Y$, which is homeomorphic to a $k{-}2$-sphere.
Note that each of $B$, $B_1$ and $B_2$ has its boundary split into two $k{-}1$-balls by $E$.
We have restriction (domain or range) maps $\cC(B_i)_E \to \cC(Y)$.
Let $\cC(B_1)_E \times_{\cC(Y)} \cC(B_2)_E$ denote the fibered product of these two maps. 
Then (axiom) we have a map
\[
	\gl_Y : \cC(B_1)_E \times_{\cC(Y)} \cC(B_2)_E \to \cC(B)_E
\]
which is natural with respect to the actions of homeomorphisms, and also compatible with restrictions
to the intersection of the boundaries of $B$ and $B_i$.
If $k < n$ we require that $\gl_Y$ is injective.
(For $k=n$, see below.)}

\xxpar{Strict associativity:}
{The composition (gluing) maps above are strictly associative.}

The above two axioms are equivalent to the following axiom,
which we state in slightly vague form.

\xxpar{Multi-composition:}
{Given any decomposition $B = B_1\cup\cdots\cup B_m$ of a $k$-ball
into small $k$-balls, there is a 
map from an appropriate subset (like a fibered product) 
of $\cC(B_1)\times\cdots\times\cC(B_m)$ to $\cC(B)$,
and these various $m$-fold composition maps satisfy an
operad-type strict associativity condition.}

The next axiom is related to identity morphisms, though that might not be immediately obvious.

\xxpar{Product (identity) morphisms:}
{Let $X$ be homeomorphic to a $k$-ball and $D$ be homeomorphic to an $m$-ball, with $k+m \le n$.
Then we have a map $\cC(X)\to \cC(X\times D)$, usually denoted $a\mapsto a\times D$ for $a\in \cC(X)$.
If $f:X\to X'$ and $\tilde{f}:X\times D \to X'\times D'$ are maps such that the diagram
\[ \xymatrix{
	X\times D \ar[r]^{\tilde{f}} \ar[d]_{\pi} & X'\times D' \ar[d]^{\pi} \\
	X \ar[r]^{f} & X'
} \]
commutes, then we have $\tilde{f}(a\times D) = f(a)\times D'$.}

\nn{Need to say something about compatibility with gluing (of both $X$ and $D$) above.}

All of the axioms listed above hold for both ordinary $n$-categories and $A_\infty$ $n$-categories.
The last axiom (below), concerning actions of 
homeomorphisms in the top dimension $n$, distinguishes the two cases.

We start with the plain $n$-category case.

\xxpar{Isotopy invariance in dimension $n$ (preliminary version):}
{Let $X$ be homeomorphic to the $n$-ball and $f: X\to X$ be a homeomorphism which restricts
to the identity on $\bd X$ and is isotopic (rel boundary) to the identity.
Then $f$ acts trivially on $\cC(X)$; $f(a) = a$ for all $a\in \cC(X)$.}

We will strengthen the above axiom in two ways.
(Amusingly, these two ways are related to each of the two senses of the term
``pseudo-isotopy".)

First, we require that $f$ act trivially on $\cC(X)$ if it is pseudo-isotopic to the identity
in the sense of homeomorphisms of mapping cylinders.
This is motivated by TQFT considerations:
If the mapping cylinder of $f$ is homeomorphic to the mapping cylinder of the identity,
then these two $n{+}1$-manifolds should induce the same map from $\cC(X)$ to itself.
\nn{is there a non-TQFT reason to require this?}

Second, we require that product (a.k.a.\ identity) $n$-morphisms act as the identity.
Let $X$ be an $n$-ball and $Y\sub\bd X$ be at $n{-}1$-ball.
Let $J$ be a 1-ball (interval).
We have a collaring homeomorphism $s_{Y,J}: X\cup_Y (Y\times J) \to X$.
We define a map
\begin{eqnarray*}
	\psi_{Y,J}: \cC(X) &\to& \cC(X) \\
	a & \mapsto & s_{Y,J}(a \cup ((a|_Y)\times J)) .
\end{eqnarray*}
\nn{need to say something somewhere about pinched boundary convention for products}
We will call $\psi_{Y,J}$ an extended isotopy.
\nn{or extended homeomorphism?  see below.}
\nn{maybe remark that in some examples (e.g.\ ones based on sub cell complexes) 
extended isotopies are also plain isotopies, so
no extension necessary}
It can be thought of as the action of the inverse of
a map which projects a collar neighborhood of $Y$ onto $Y$.
(This sort of collapse map is the other sense of ``pseudo-isotopy".)
\nn{need to check this}

The revised axiom is

\xxpar{Pseudo and extended isotopy invariance in dimension $n$:}
{Let $X$ be homeomorphic to the $n$-ball and $f: X\to X$ be a homeomorphism which restricts
to the identity on $\bd X$ and is pseudo-isotopic or extended isotopic (rel boundary) to the identity.
Then $f$ acts trivially on $\cC(X)$.}

\nn{need to rephrase this, since extended isotopies don't correspond to homeomorphisms.}

\smallskip

For $A_\infty$ $n$-categories, we replace
isotopy invariance with the requirement that families of homeomorphisms act.
For the moment, assume that our $n$-morphisms are enriched over chain complexes.

\xxpar{Families of homeomorphisms act.}
{For each $n$-ball $X$ and each $c\in \cC(\bd X)$ we have a map of chain complexes
\[
	C_*(\Homeo_\bd(X))\ot \cC(X; c) \to \cC(X; c) .
\]
Here $C_*$ means singular chains and $\Homeo_\bd(X)$ is the space of homeomorphisms of $X$
which fix $\bd X$.
These action maps are required to be associative up to homotopy
\nn{iterated homotopy?}, and also compatible with composition (gluing) in the sense that
a diagram like the one in Proposition \ref{CDprop} commutes.
\nn{repeat diagram here?}
\nn{restate this with $\Homeo(X\to X')$?  what about boundary fixing property?}}

We should strengthen the above axiom to apply to families of extended homeomorphisms.
To do this we need to explain extended homeomorphisms form a space.
Roughly, the set of $n{-}1$-balls in the boundary of an $n$-ball has a natural topology,
and we can replace the class of all intervals $J$ with intervals contained in $\r$.
\nn{need to also say something about collaring homeomorphisms.}
\nn{this paragraph needs work.}

Note that if take homology of chain complexes, we turn an $A_\infty$ $n$-category
into a plain $n$-category.
\nn{say more here?}
In the other direction, if we enrich over topological spaces instead of chain complexes,
we get a space version of an $A_\infty$ $n$-category, with $\Homeo_\bd(X)$ acting 
instead of  $C_*(\Homeo_\bd(X))$.
Taking singular chains converts a space-type $A_\infty$ $n$-category into a chain complex
type $A_\infty$ $n$-category.

\medskip

The alert reader will have already noticed that our definition of (plain) $n$-category
is extremely similar to our definition of topological fields.
The only difference is that for the $n$-category definition we restrict our attention to balls
(and their boundaries), while for fields we consider all manifolds.
\nn{also: difference at the top dimension; fix this}
Thus a system of fields determines an $n$-category simply by restricting our attention to
balls.
The $n$-category can be thought of as the local part of the fields.
Conversely, given an $n$-category we can construct a system of fields via 
\nn{gluing, or a universal construction}

\nn{Next, say something about $A_\infty$ $n$-categories and ``homological" systems
of fields.
The universal (colimit) construction becomes our generalized definition of blob homology.
Need to explain how it relates to the old definition.}

\medskip

\nn{these examples need to be fleshed out a bit more}

Examples of plain $n$-categories:
\begin{itemize}

\item Let $F$ be a closed $m$-manifold (e.g.\ a point).
Let $T$ be a topological space.
For $X$ a $k$-ball or $k$-sphere with $k < n$, define $\cC(X)$ to be the set of 
all maps from $X\times F$ to $T$.
For $X$ an $n$-ball define $\cC(X)$ to be maps from $X\times F$ to $T$ modulo
homotopies fixed on $\bd X$.
(Note that homotopy invariance implies isotopy invariance.)
For $a\in \cC(X)$ define the product morphism $a\times D \in \cC(X\times D)$ to
be $a\circ\pi_X$, where $\pi_X : X\times D \to X$ is the projection.

\item We can linearize the above example as follows.
Let $\alpha$ be an $(n{+}m{+}1)$-cocycle on $T$ with values in a ring $R$
(e.g.\ the trivial cocycle).
For $X$ of dimension less than $n$ define $\cC(X)$ as before.
For $X$ an $n$-ball and $c\in \cC(\bd X)$ define $\cC(X; c)$ to be
the $R$-module of finite linear combinations of maps from $X\times F$ to $T$,
modulo the relation that if $a$ is homotopic to $b$ (rel boundary) via a homotopy
$h: X\times F\times I \to T$, then $a \sim \alpha(h)b$.
\nn{need to say something about fundamental classes, or choose $\alpha$ carefully}

\item Given a traditional $n$-category $C$ (with strong duality etc.),
define $\cC(X)$ (with $\dim(X) < n$) 
to be the set of all $C$-labeled sub cell complexes of $X$.
For $X$ an $n$-ball and $c\in \cC(\bd X)$, define $\cC(X)$ to finite linear
combinations of $C$-labeled sub cell complexes of $X$
modulo the kernel of the evaluation map.
Define a product morphism $a\times D$ to be the product of the cell complex of $a$ with $D$,
and with the same labeling as $a$.
More generally, start with an $n{+}m$-category $C$ and a closed $m$-manifold $F$.
Define $\cC(X)$, for $\dim(X) < n$,
to be the set of all $C$-labeled sub cell complexes of $X\times F$.
Define $\cC(X; c)$, for $X$ an $n$-ball,
to be the dual Hilbert space $A(X\times F; c)$.
\nn{refer elsewhere for details?}

\item Variation on the above examples:
We could allow $F$ to have boundary and specify boundary conditions on $(\bd X)\times F$,
for example product boundary conditions or take the union over all boundary conditions.
\nn{maybe should not emphasize this case, since it's ``better" in some sense
to think of these guys as affording a representation
of the $n{+}1$-category associated to $\bd F$.}

\end{itemize}


Examples of $A_\infty$ $n$-categories:
\begin{itemize}

\item Same as in example \nn{xxxx} above (fiber $F$, target space $T$),
but we define, for an $n$-ball $X$, $\cC(X; c)$ to be the chain complex 
$C_*(\Maps_c(X\times F))$, where $\Maps_c$ denotes continuous maps restricting to $c$ on the boundary,
and $C_*$ denotes singular chains.

\item
Given a plain $n$-category $C$, 
define $\cC(X; c) = \bc^C_*(X\times F; c)$, where $X$ is an $n$-ball
and $\bc^C_*$ denotes the blob complex based on $C$.

\end{itemize}

\medskip

Next we define [$A_\infty$] $n$-category modules (a.k.a.\ representations,
a.k.a.\ actions).
The definition will be very similar to that of $n$-categories.

Out motivating example comes from an $(m{-}n{+}1)$-dimensional manifold $W$ with boundary
in the context of an $m{+}1$-dimensional TQFT.
Such a $W$ gives rise to a module for the $n$-category associated to $\bd W$.
This will be explained in more detail as we present the axioms.

Fix an $n$-category $\cC$.

Define a {\it marked $k$-ball} to be a pair $(B, N)$ homeomorphic to the pair
(standard $k$-ball, northern hemisphere in boundary of standard $k$-ball).
We call $B$ the ball and $N$ the marking.
A homeomorphism between marked $k$-balls is a homeomorphism of balls which
restricts to a homeomorphism of markings.

\xxpar{Module morphisms}
{For each $0 \le k \le n$, we have a functor $\cM_k$ from 
the category of marked $k$-balls and 
homeomorphisms to the category of sets and bijections.}

(As with $n$-categories, we will usually omit the subscript $k$.)

In our example, let $\cM(B, N) = \cD((B\times \bd W)\cup_{N\times \bd W} (N\times W))$, 
where $\cD$ is the fields functor for the TQFT.

Define the boundary of a marked ball $(B, N)$ to be the pair $(\bd B \setmin N, \bd N)$.
Call such a thing a {marked hemisphere}.

\xxpar{Module boundaries, part 1:}
{For each $0 \le k \le n-1$, we have a functor $\cM_k$ from 
the category of marked hemispheres (of dimension $k$) and 
homeomorphisms to the category of sets and bijections.}

\xxpar{Module boundaries, part 2:}
{For each marked $k$-ball $M$ we have a map of sets $\bd: \cM(M)\to \cM(\bd M)$.
These maps, for various $M$, comprise a natural transformation of functors.}

Given $c\in\cM(\bd M)$, let $\cM(M; c) = \bd^{-1}(c)$.

If the $n$-category $\cC$ is enriched over some other category (e.g.\ vector spaces),
then $\cM(M; c)$ should be an object in that category for each marked $n$-ball $M$
and $c\in \cC(\bd M)$.

\xxpar{Module domain $+$ range $\to$ boundary:}
{Let $H = M_1 \cup_E M_2$, where $H$ is a marked $k$-hemisphere ($0\le k\le n-1$),
$B_i$ is a marked $k$-ball, and $E = B_1\cap B_2$ is a marked $k{-}1$-hemisphere.
Let $\cM(B_1) \times_{\cM(E)} \cM(B_2)$ denote the fibered product of the 
two maps $\bd: \cM(B_i)\to \cM(E)$.
Then (axiom) we have an injective map
\[
	\gl_E : \cM(M_1) \times_{\cM(E)} \cM(M_2) \to \cM(H)
\]
which is natural with respect to the actions of homeomorphisms.}







\medskip
\hrule
\medskip

\nn{to be continued...}
\medskip


Stuff that remains to be done (either below or in an appendix or in a separate section or in
a separate paper):
\begin{itemize}
\item tensor products
\item blob complex is an example of an $A_\infty$ $n$-category
\item fundamental $n$-groupoid is an example of an $A_\infty$ $n$-category
\item traditional $n$-cat defs (e.g. *-1-cat, pivotal 2-cat) imply our def of plain $n$-cat
\item conversely, our def implies other defs
\item traditional $A_\infty$ 1-cat def implies our def
\item ... and vice-versa (already done in appendix)
\item say something about unoriented vs oriented vs spin vs pin for $n=1$ (and $n=2$?)
\item spell out what difference (if any) Top vs PL vs Smooth makes
\item explain relation between old-fashioned blob homology and new-fangled blob homology
\end{itemize}


