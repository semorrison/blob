%!TEX root = ../blob1.tex

\section{Hochschild homology when $n=1$}
\label{sec:hochschild}

So far we have provided no evidence that blob homology is interesting in degrees 
greater than zero.
In this section we analyze the blob complex in dimension $n=1$.
We find that $\bc_*(S^1, \cC)$ is homotopy equivalent to the 
Hochschild complex of the 1-category $\cC$.
(Recall from \S \ref{sec:example:traditional-n-categories(fields)} that a 
$1$-category gives rise to a $1$-dimensional system of fields; as usual, 
talking about the blob complex with coefficients in a $n$-category means 
first passing to the corresponding $n$ dimensional system of fields.)
Thus the blob complex is a natural generalization of something already
known to be interesting in higher homological degrees.

It is also worth noting that the original idea for the blob complex came from trying
to find a more ``local" description of the Hochschild complex.

Let $C$ be a *-1-category.
Then specializing the definitions from above to the case $n=1$ we have:
\begin{itemize}
\item $\cC(pt) = \ob(C)$ .
\item Let $R$ be a 1-manifold and $c \in \cC(\bd R)$.
Then an element of $\cC(R; c)$ is a collection of (transversely oriented)
points in the interior
of $R$, each labeled by a morphism of $C$.
The intervals between the points are labeled by objects of $C$, consistent with
the boundary condition $c$ and the domains and ranges of the point labels.
\item There is an evaluation map $e: \cC(I; a, b) \to \mor(a, b)$ given by
composing the morphism labels of the points.
Note that we also need the * of *-1-category here in order to make all the morphisms point
the same way.
\item For $x \in \mor(a, b)$ let $\chi(x) \in \cC(I; a, b)$ be the field with a single
point (at some standard location) labeled by $x$.
Then the kernel of the evaluation map $U(I; a, b)$ is generated by things of the
form $y - \chi(e(y))$.
Thus we can, if we choose, restrict the blob twig labels to things of this form.
\end{itemize}

We want to show that $\bc_*(S^1)$ is homotopy equivalent to the
Hochschild complex of $C$.
In order to prove this we will need to extend the 
definition of the blob complex to allow points to also
be labeled by elements of $C$-$C$-bimodules.
(See Subsections \ref{moddecss} and \ref{ssec:spherecat} for a more general (i.e.\ $n>1$)
version of this construction.)

Fix points $p_1, \ldots, p_k \in S^1$ and $C$-$C$-bimodules $M_1, \ldots M_k$.
We define a blob-like complex $K_*(S^1, (p_i), (M_i))$.
The fields have elements of $M_i$ labeling 
the fixed points $p_i$ and elements of $C$ labeling other (variable) points.
As before, the regions between the marked points are labeled by
objects of $\cC$.
The blob twig labels lie in kernels of evaluation maps.
(The range of these evaluation maps is a tensor product (over $C$) of $M_i$'s,
corresponding to the $p_i$'s that lie within the twig blob.)
Let $K_*(M) = K_*(S^1, (*), (M))$, where $* \in S^1$ is some standard base point.
In other words, fields for $K_*(M)$ have an element of $M$ at the fixed point $*$
and elements of $C$ at variable other points.

In the theorems, propositions and lemmas below we make various claims
about complexes being homotopy equivalent.
In all cases the complexes in question are free (and hence projective), 
so it suffices to show that they are quasi-isomorphic.

We claim that
\begin{thm}
\label{thm:hochschild}
The blob complex $\bc_*(S^1; C)$ on the circle is homotopy equivalent to the
usual Hochschild complex for $C$.
\end{thm}

This follows from two results.
First, we see that
\begin{lem}
\label{lem:module-blob}%
The complex $K_*(C)$ (here $C$ is being thought of as a
$C$-$C$-bimodule, not a category) is homotopy equivalent to the blob complex
$\bc_*(S^1; C)$.
(Proof later.)
\end{lem}

Next, we show that for any $C$-$C$-bimodule $M$,
\begin{prop} \label{prop:hoch}
The complex $K_*(M)$ is homotopy equivalent to $\HC_*(M)$, the usual
Hochschild complex of $M$.
\end{prop}
\begin{proof}
Recall that the usual Hochschild complex of $M$ is uniquely determined,
up to quasi-isomorphism, by the following properties:
\begin{enumerate}
\item \label{item:hochschild-additive}%
$\HC_*(M_1 \oplus M_2) \cong \HC_*(M_1) \oplus \HC_*(M_2)$.
\item \label{item:hochschild-exact}%
An exact sequence $0 \to M_1 \into M_2 \onto M_3 \to 0$ gives rise to an
exact sequence $0 \to \HC_*(M_1) \into \HC_*(M_2) \onto \HC_*(M_3) \to 0$.
\item \label{item:hochschild-coinvariants}%
$\HH_0(M)$ is isomorphic to the coinvariants of $M$, $\coinv(M) =
M/\langle cm-mc \rangle$.
\item \label{item:hochschild-free}%
$\HC_*(C\otimes C)$ is contractible.
(Here $C\otimes C$ denotes
the free $C$-$C$-bimodule with one generator.)
That is, $\HC_*(C\otimes C)$ is
quasi-isomorphic to its $0$-th homology (which in turn, by \ref{item:hochschild-coinvariants}
above, is just $C$) via the quotient map $\HC_0 \onto \HH_0$.
\end{enumerate}
(Together, these just say that Hochschild homology is ``the derived functor of coinvariants".)
We'll first recall why these properties are characteristic.

Take some $C$-$C$ bimodule $M$, and choose a free resolution
\begin{equation*}
\cdots \to F_2 \xrightarrow{f_2} F_1 \xrightarrow{f_1} F_0.
\end{equation*}
We will show that for any functor $\cP$ satisfying properties
\ref{item:hochschild-additive}, \ref{item:hochschild-exact},
\ref{item:hochschild-coinvariants} and \ref{item:hochschild-free}, there
is a quasi-isomorphism
$$\cP_*(M) \iso \coinv(F_*).$$
%
Observe that there's a quotient map $\pi: F_0 \onto M$, and by
construction the cone of the chain map $\pi: F_* \to M$ is acyclic. 
Now construct the total complex $\cP_i(F_j)$, with $i,j \geq 0$, graded by $i+j$. 
We have two chain maps
\begin{align*}
\cP_i(F_*) & \xrightarrow{\cP_i(\pi)} \cP_i(M) \\
\intertext{and}
\cP_*(F_j) & \xrightarrow{\cP_0(F_j) \onto H_0(\cP_*(F_j))} \coinv(F_j).
\end{align*}
The cone of each chain map is acyclic.
In the first case, this is because the ``rows" indexed by $i$ are acyclic since $\cP_i$ is exact.
In the second case, this is because the ``columns" indexed by $j$ are acyclic, since $F_j$ is free.
Because the cones are acyclic, the chain maps are quasi-isomorphisms.
Composing one with the inverse of the other, we obtain the desired quasi-isomorphism
$$\cP_*(M) \quismto \coinv(F_*).$$

%If $M$ is free, that is, a direct sum of copies of
%$C \tensor C$, then properties \ref{item:hochschild-additive} and
%\ref{item:hochschild-free} determine $\HC_*(M)$. Otherwise, choose some
%free cover $F \onto M$, and define $K$ to be this map's kernel. Thus we
%have a short exact sequence $0 \to K \into F \onto M \to 0$, and hence a
%short exact sequence of complexes $0 \to \HC_*(K) \into \HC_*(F) \onto \HC_*(M)
%\to 0$. Such a sequence gives a long exact sequence on homology
%\begin{equation*}
%%\begin{split}
%\cdots \to \HH_{i+1}(F) \to \HH_{i+1}(M) \to \HH_i(K) \to \HH_i(F) \to \cdots % \\
%%\cdots \to \HH_1(F) \to \HH_1(M) \to \HH_0(K) \to \HH_0(F) \to \HH_0(M).
%%\end{split}
%\end{equation*}
%For any $i \geq 1$, $\HH_{i+1}(F) = \HH_i(F) = 0$, by properties
%\ref{item:hochschild-additive} and \ref{item:hochschild-free}, and so
%$\HH_{i+1}(M) \iso \HH_i(F)$. For $i=0$, \todo{}.
%
%This tells us how to
%compute every homology group of $\HC_*(M)$; we already know $\HH_0(M)$
%(it's just coinvariants, by property \ref{item:hochschild-coinvariants}),
%and higher homology groups are determined by lower ones in $\HC_*(K)$, and
%hence recursively as coinvariants of some other bimodule.

Proposition \ref{prop:hoch} then follows from the following lemmas, 
establishing that $K_*$ has precisely these required properties.
\begin{lem}
\label{lem:hochschild-additive}%
Directly from the definition, $K_*(M_1 \oplus M_2) \cong K_*(M_1) \oplus K_*(M_2)$.
\end{lem}
\begin{lem}
\label{lem:hochschild-exact}%
An exact sequence $0 \to M_1 \into M_2 \onto M_3 \to 0$ gives rise to an
exact sequence $0 \to K_*(M_1) \into K_*(M_2) \onto K_*(M_3) \to 0$.
\end{lem}
\begin{lem}
\label{lem:hochschild-coinvariants}%
$H_0(K_*(M))$ is isomorphic to the coinvariants of $M$.
\end{lem}
\begin{lem}
\label{lem:hochschild-free}%
$K_*(C\otimes C)$ is quasi-isomorphic to $H_0(K_*(C \otimes C)) \iso C$.
\end{lem}

The remainder of this section is devoted to proving Lemmas
\ref{lem:module-blob},
\ref{lem:hochschild-exact}, \ref{lem:hochschild-coinvariants} and
\ref{lem:hochschild-free}.
\end{proof}

\subsection{Technical details}
\begin{proof}[Proof of Lemma \ref{lem:module-blob}]
We show that $K_*(C)$ is quasi-isomorphic to $\bc_*(S^1)$.
$K_*(C)$ differs from $\bc_*(S^1)$ only in that the base point *
is always a labeled point in $K_*(C)$, while in $\bc_*(S^1)$ it may or may not be.
In particular, there is an inclusion map $i: K_*(C) \to \bc_*(S^1)$.

We want to define a homotopy inverse to the above inclusion, but before doing so
we must replace $\bc_*(S^1)$ with a homotopy equivalent subcomplex.
Let $J_* \sub \bc_*(S^1)$ be the subcomplex where * does not lie on the boundary
of any blob.
Note that the image of $i$ is contained in $J_*$.
Note also that in $\bc_*(S^1)$ (away from $J_*$) 
a blob diagram could have multiple (nested) blobs whose
boundaries contain *, on both the right and left of *.

We claim that $J_*$ is homotopy equivalent to $\bc_*(S^1)$.
Let $F_*^\ep \sub \bc_*(S^1)$ be the subcomplex where either
(a) the point * is not on the boundary of any blob or
(b) there are no labeled points or blob boundaries within distance $\ep$ of *,
other than blob boundaries at * itself.
Note that all blob diagrams are in $F_*^\ep$ for $\ep$ sufficiently small.
Let $b$ be a blob diagram in $F_*^\ep$.
Define $f(b)$ to be the result of moving any blob boundary points which lie on *
to distance $\ep$ from *.
(Move right or left so as to shrink the blob.)
Extend to get a chain map $f: F_*^\ep \to F_*^\ep$.
By Lemma \ref{support-shrink}, $f$ is homotopic to the identity.
Since the image of $f$ is in $J_*$, and since any blob chain is in $F_*^\ep$
for $\ep$ sufficiently small, we have that $J_*$ is homotopic to all of $\bc_*(S^1)$.

We now define a homotopy inverse $s: J_* \to K_*(C)$ to the inclusion $i$.
If $y$ is a field defined on a neighborhood of *, define $s(y) = y$ if
* is a labeled point in $y$.
Otherwise, define $s(y)$ to be the result of adding a label 1 (identity morphism) at *.
Extending linearly, we get the desired map $s: \bc_*(S^1) \to K_*(C)$.
It is easy to check that $s$ is a chain map and $s \circ i = \id$.

Let $N_\ep$ denote the ball of radius $\ep$ around *.
Let $L_*^\ep \sub \bc_*(S^1)$ be the subcomplex 
spanned by blob diagrams
where there are no labeled points
in $N_\ep$, except perhaps $*$, and $N_\ep$ is either disjoint from or contained in 
every blob in the diagram.
Note that for any chain $x \in \bc_*(S^1)$, $x \in L_*^\ep$ for sufficiently small $\ep$.

We define a degree $1$ map $j_\ep: L_*^\ep \to L_*^\ep$ as follows.
Let $x \in L_*^\ep$ be a blob diagram.
\nn{maybe add figures illustrating $j_\ep$?}
If $*$ is not contained in any twig blob, we define $j_\ep(x)$ by adding 
$N_\ep$ as a new twig blob, with label $y - s(y)$ where $y$ is the restriction
of $x$ to $N_\ep$.
If $*$ is contained in a twig blob $B$ with label $u=\sum z_i$, 
\nn{SM: I don't think we need to consider sums here}
\nn{KW: It depends on whether we allow linear combinations of fields outside of twig blobs}
write $y_i$ for the restriction of $z_i$ to $N_\ep$, and let
$x_i$ be equal to $x$ on $S^1 \setmin B$, equal to $z_i$ on $B \setmin N_\ep$,
and have an additional blob $N_\ep$ with label $y_i - s(y_i)$.
Define $j_\ep(x) = \sum x_i$.

It is not hard to show that on $L_*^\ep$
\[
	\bd j_\ep  + j_\ep \bd = \id - i \circ s .
\]
\nn{need to check signs coming from blob complex differential}
Since for $\ep$ small enough $L_*^\ep$ captures all of the
homology of $\bc_*(S^1)$, 
it follows that the mapping cone of $i \circ s$ is acyclic and therefore (using the fact that
these complexes are free) $i \circ s$ is homotopic to the identity.
\end{proof}

\begin{proof}[Proof of Lemma \ref{lem:hochschild-exact}]
We now prove that $K_*$ is an exact functor.

As a warm-up, we prove
that the functor on $C$-$C$ bimodules
\begin{equation*}
M \mapsto \ker(C \tensor M \tensor C \xrightarrow{c_1 \tensor m \tensor c_2 \mapsto c_1 m c_2} M)
\end{equation*}
is exact.
Suppose we have a short exact sequence of $C$-$C$ bimodules $$\xymatrix{0 \ar[r] & K \ar@{^{(}->}[r]^f & E \ar@{->>}[r]^g & Q \ar[r] & 0}.$$
We'll write $\hat{f}$ and $\hat{g}$ for the image of $f$ and $g$ under the functor, so 
\[
	\hat{f}(\textstyle\sum_i a_i \tensor k_i \tensor b_i) = 
						\textstyle\sum_i a_i \tensor f(k_i) \tensor b_i ,
\]
and similarly for $\hat{g}$.
Most of what we need to check is easy.
Suppose we have $\sum_i (a_i \tensor k_i \tensor b_i) \in \ker(C \tensor K \tensor C \to K)$, 
assuming without loss of generality that $\{a_i \tensor b_i\}_i$ is linearly independent in $C \tensor C$, 
and $\hat{f}(a \tensor k \tensor b) = 0 \in \ker(C \tensor E \tensor C \to E)$.
We must then have $f(k_i) = 0 \in E$ for each $i$, which implies $k_i=0$ itself. 
If $\sum_i (a_i \tensor e_i \tensor b_i) \in \ker(C \tensor E \tensor C \to E)$ 
is in the image of $\ker(C \tensor K \tensor C \to K)$ under $\hat{f}$, 
again by assuming the set  $\{a_i \tensor b_i\}_i$ is linearly independent we can deduce that each
$e_i$ is in the image of the original $f$, and so is in the kernel of the original $g$, 
and so $\hat{g}(\sum_i a_i \tensor e_i \tensor b_i) = 0$.
If $\hat{g}(\sum_i a_i \tensor e_i \tensor b_i) = 0$, then each $g(e_i) = 0$, so $e_i = f(\widetilde{e_i})$ 
for some $\widetilde{e_i} \in K$, and $\sum_i a_i \tensor e_i \tensor b_i = \hat{f}(\sum_i a_i \tensor \widetilde{e_i} \tensor b_i)$.
Finally, the interesting step is in checking that any $q = \sum_i a_i \tensor q_i \tensor b_i$ 
such that $\sum_i a_i q_i b_i = 0$ is in the image of $\ker(C \tensor E \tensor C \to C)$ under $\hat{g}$.
For each $i$, we can find $\widetilde{q_i}$ so $g(\widetilde{q_i}) = q_i$.
However $\sum_i a_i \widetilde{q_i} b_i$ need not be zero.
Consider then $$\widetilde{q} = \sum_i (a_i \tensor \widetilde{q_i} \tensor b_i) - 1 \tensor (\sum_i a_i \widetilde{q_i} b_i) \tensor 1.$$ Certainly
$\widetilde{q} \in \ker(C \tensor E \tensor C \to E)$.
Further,
\begin{align*}
\hat{g}(\widetilde{q}) & = \sum_i (a_i \tensor g(\widetilde{q_i}) \tensor b_i) - 1 \tensor (\sum_i a_i g(\widetilde{q_i}) b_i) \tensor 1 \\
                       & = q - 0
\end{align*}
(here we used that $g$ is a map of $C$-$C$ bimodules, and that $\sum_i a_i q_i b_i = 0$).

Similar arguments show that the functors
\begin{equation}
\label{eq:ker-functor}%
M \mapsto \ker(C^{\tensor k} \tensor M \tensor C^{\tensor l} \to M)
\end{equation}
are all exact too.
Moreover, tensor products of such functors with each
other and with $C$ or $\ker(C^{\tensor k} \to C)$ (e.g., producing the functor $M \mapsto \ker(M \tensor C \to M)
\tensor C \tensor \ker(C \tensor C \to M)$) are all still exact.

Finally, then we see that the functor $K_*$ is simply an (infinite)
direct sum of copies of this sort of functor.
The direct sum is indexed by
configurations of nested blobs and of labels; for each such configuration, we have one of 
the above tensor product functors,
with the labels of twig blobs corresponding to tensor factors as in \eqref{eq:ker-functor} 
or $\ker(C^{\tensor k} \to C)$ (depending on whether they contain a marked point $p_i$), and all other labelled points corresponding
to tensor factors of $C$ and $M$.
\end{proof}
\begin{proof}[Proof of Lemma \ref{lem:hochschild-coinvariants}]
We show that $H_0(K_*(M))$ is isomorphic to the coinvariants of $M$.

We define a map $\ev: K_0(M) \to M$.
If $x \in K_0(M)$ has the label $m \in M$ at $*$, and labels $c_i \in C$ at the other 
labeled points of $S^1$, reading clockwise from $*$,
we set $\ev(x) = m c_1 \cdots c_k$.
We can think of this as $\ev : M \tensor C^{\tensor k} \to M$, for each direct summand of 
$K_0(M)$ indexed by a configuration of labeled points.

There is a quotient map $\pi: M \to \coinv{M}$.
We claim that the composition $\pi \compose \ev$ is well-defined on the quotient $H_0(K_*(M))$; 
i.e.\ that $\pi(\ev(\bd y)) = 0$ for all $y \in K_1(M)$.
There are two cases, depending on whether the blob of $y$ contains the point *.
If it doesn't, then
suppose $y$ has label $m$ at $*$, labels $c_i$ at other labeled points outside the blob, 
and the field inside the blob is a sum, with the $j$-th term having
labeled points $d_{j,i}$.
Then $\sum_j d_{j,1} \tensor \cdots \tensor d_{j,k_j} \in \ker(\DirectSum_k C^{\tensor k} \to C)$, and so
$\ev(\bdy y) = 0$, because $$C^{\tensor \ell_1} \tensor \ker(\DirectSum_k C^{\tensor k} \to C) \tensor C^{\tensor \ell_2} \subset \ker(\DirectSum_k C^{\tensor k} \to C).$$
Similarly, if $*$ is contained in the blob, then the blob label is a sum, with the 
$j$-th term have labelled points $d_{j,i}$ to the left of $*$, $m_j$ at $*$, and $d_{j,i}'$ to the right of $*$,
and there are labels $c_i$ at the labeled points outside the blob.
We know that
$$\sum_j d_{j,1} \tensor \cdots \tensor d_{j,k_j} \tensor m_j \tensor d_{j,1}' \tensor \cdots \tensor d_{j,k'_j}' \in \ker(\DirectSum_{k,k'} C^{\tensor k} \tensor M \tensor C^{\tensor k'} \tensor \to M),$$
and so
\begin{align*}
\ev(\bdy y) & = \sum_j m_j d_{j,1}' \cdots d_{j,k'_j}' c_1 \cdots c_k d_{j,1} \cdots d_{j,k_j} \\
            & = \sum_j d_{j,1} \cdots d_{j,k_j} m_j d_{j,1}' \cdots d_{j,k'_j}' c_1 \cdots c_k \\
            & = 0
\end{align*}
where this time we use the fact that we're mapping to $\coinv{M}$, not just $M$.

The map $\pi \compose \ev: H_0(K_*(M)) \to \coinv{M}$ is clearly 
surjective ($\ev$ surjects onto $M$); we now show that it's injective.
This is equivalent to showing that 
\[
	\ev\inv(\ker(\pi)) \sub \bd K_1(M) .
\]
The above inclusion follows from
\[
	\ker(\ev) \sub \bd K_1(M)
\]
and
\[
	\ker(\pi) \sub \ev(\bd K_1(M)) .
\]
Let $x = \sum x_i$ be in the kernel of $\ev$, where each $x_i$ is a configuration of 
labeled points in $S^1$.
Since the sum is finite, we can find an interval (blob) $B$ in $S^1$
such that for each $i$ the $C$-labeled points of $x_i$ all lie to the right of the 
base point *.
Let $y_i$ be the restriction of $x_i$ to $B$ and $y = \sum y_i$.
Let $r$ be the ``empty" field on $S^1 \setmin B$.
It follows that $y \in U(B)$ and 
\[
	\bd(B, y, r) = x .
\]
$\ker(\pi)$ is generated by elements of the form $cm - mc$.
As shown in Figure \ref{fig:hochschild-1-chains}, $cm - mc$ lies in $\ev(\bd K_1(M))$.
\end{proof}

\begin{proof}[Proof of Lemma \ref{lem:hochschild-free}]
We show that $K_*(C\otimes C)$ is
quasi-isomorphic to the 0-step complex $C$.
We'll do this in steps, establishing quasi-isomorphisms and homotopy equivalences
$$K_*(C \tensor C) \quismto K'_* \htpyto K''_* \quismto C.$$

Let $K'_* \sub K_*(C\otimes C)$ be the subcomplex where the label of
the point $*$ is $1 \otimes 1 \in C\otimes C$.
We will show that the inclusion $i: K'_* \to K_*(C\otimes C)$ is a quasi-isomorphism.

Fix a small $\ep > 0$.
Let $N_\ep$ be the ball of radius $\ep$ around $* \in S^1$.
Let $K_*^\ep \sub K_*(C\otimes C)$ be the subcomplex
generated by blob diagrams $b$ such that $N_\ep$ is either disjoint from
or contained in each blob of $b$, and the only labeled point inside $N_\ep$ is $*$.
%and the two boundary points of $N_\ep$ are not labeled points of $b$.
For a field $y$ on $N_\ep$, let $s_\ep(y)$ be the equivalent picture with~$*$
labeled by $1\otimes 1$ and the only other labeled points at distance $\pm\ep/2$ from $*$.
(See Figure \ref{fig:sy}.)
Note that $y - s_\ep(y) \in U(N_\ep)$. 
Let $\sigma_\ep: K_*^\ep \to K_*^\ep$ be the chain map
given by replacing the restriction $y$ to $N_\ep$ of each field
appearing in an element of  $K_*^\ep$ with $s_\ep(y)$.
Note that $\sigma_\ep(x) \in K'_*$.
\begin{figure}[t]
\begin{align*}
y & = \mathfig{0.2}{hochschild/y} &
s_\ep(y) & = \mathfig{0.2}{hochschild/sy}
\end{align*}
\caption{Defining $s_\ep$.}
\label{fig:sy}
\end{figure}

Define a degree 1 map $j_\ep : K_*^\ep \to K_*^\ep$ as follows.
Let $x \in K_*^\ep$ be a blob diagram.
If $*$ is not contained in any twig blob, $j_\ep(x)$ is obtained by adding $N_\ep$ to
$x$ as a new twig blob, with label $y - s_\ep(y)$, where $y$ is the restriction of $x$ to $N_\ep$.
If $*$ is contained in a twig blob $B$ with label $u = \sum z_i$, $j_\ep(x)$ is obtained as follows.
Let $y_i$ be the restriction of $z_i$ to $N_\ep$.
Let $x_i$ be equal to $x$ outside of $B$, equal to $z_i$ on $B \setmin N_\ep$,
and have an additional blob $N_\ep$ with label $y_i - s_\ep(y_i)$.
Define $j_\ep(x) = \sum x_i$.
\nn{need to check signs coming from blob complex differential}
Note that if $x \in K'_* \cap K_*^\ep$ then $j_\ep(x) \in K'_*$ also.

The key property of $j_\ep$ is
\eq{
    \bd j_\ep + j_\ep \bd = \id - \sigma_\ep.
}
If $j_\ep$ were defined on all of $K_*(C\otimes C)$, this would show that $\sigma_\ep$
is a homotopy inverse to the inclusion $K'_* \to K_*(C\otimes C)$.
One strategy would be to try to stitch together various $j_\ep$ for progressively smaller
$\ep$ and show that $K'_*$ is homotopy equivalent to $K_*(C\otimes C)$.
Instead, we'll be less ambitious and just show that
$K'_*$ is quasi-isomorphic to $K_*(C\otimes C)$.

If $x$ is a cycle in $K_*(C\otimes C)$, then for sufficiently small $\ep$ we have
$x \in K_*^\ep$.
(This is true for any chain in $K_*(C\otimes C)$, since chains are sums of
finitely many blob diagrams.)
Then $x$ is homologous to $\sigma_\ep(x)$, which is in $K'_*$, so the inclusion map
$K'_* \sub K_*(C\otimes C)$ is surjective on homology.
If $y \in K_*(C\otimes C)$ and $\bd y = x \in K_*(C\otimes C)$, then $y \in K_*^\ep$ for some $\ep$
and
\eq{
    \bd y = \bd (\sigma_\ep(y) + j_\ep(x)) .
}
Since $\sigma_\ep(y) + j_\ep(x) \in K'_*$, it follows that the inclusion map is injective on homology.
This completes the proof that $K'_*$ is quasi-isomorphic to $K_*(C\otimes C)$.

Let $K''_* \sub K'_*$ be the subcomplex of $K'_*$ where $*$ is not contained in any blob.
We will show that the inclusion $i: K''_* \to K'_*$ is a homotopy equivalence.

First, a lemma:  Let $G''_*$ and $G'_*$ be defined similarly to $K''_*$ and $K'_*$, except with
$S^1$ replaced by some neighborhood $N$ of $* \in S^1$.
($G''_*$ and $G'_*$ depend on $N$, but that is not reflected in the notation.)
Then $G''_*$ and $G'_*$ are both contractible
and the inclusion $G''_* \sub G'_*$ is a homotopy equivalence.
For $G'_*$ the proof is the same as in (\ref{bcontract}), except that the splitting
$G'_0 \to H_0(G'_*)$ concentrates the point labels at two points to the right and left of $*$.
For $G''_*$ we note that any cycle is supported away from $*$.
Thus any cycle lies in the image of the normal blob complex of a disjoint union
of two intervals, which is contractible by (\ref{bcontract}) and (\ref{disj-union-contract}).
Finally, it is easy to see that the inclusion
$G''_* \to G'_*$ induces an isomorphism on $H_0$.

Next we construct a degree 1 map (homotopy) $h: K'_* \to K'_*$ such that
for all $x \in K'_*$ we have
\eq{
    x - \bd h(x) - h(\bd x) \in K''_* .
}
Since $K'_0 = K''_0$, we can take $h_0 = 0$.
Let $x \in K'_1$, with single blob $B \sub S^1$.
If $* \notin B$, then $x \in K''_1$ and we define $h_1(x) = 0$.
If $* \in B$, then we work in the image of $G'_*$ and $G''_*$ (with respect to $B$).
Choose $x'' \in G''_1$ such that $\bd x'' = \bd x$.
Since $G'_*$ is contractible, there exists $y \in G'_2$ such that $\bd y = x - x''$.
Define $h_1(x) = y$.
The general case is similar, except that we have to take lower order homotopies into account.
Let $x \in K'_k$.
If $*$ is not contained in any of the blobs of $x$, then define $h_k(x) = 0$.
Otherwise, let $B$ be the outermost blob of $x$ containing $*$.
We can decompose $x = x' \bullet p$, 
where $x'$ is supported on $B$ and $p$ is supported away from $B$.
So $x' \in G'_l$ for some $l \le k$.
Choose $x'' \in G''_l$ such that $\bd x'' = \bd (x' - h_{l-1}\bd x')$.
Choose $y \in G'_{l+1}$ such that $\bd y = x' - x'' - h_{l-1}\bd x'$.
Define $h_k(x) = y \bullet p$.
This completes the proof that $i: K''_* \to K'_*$ is a homotopy equivalence.
\nn{need to say above more clearly and settle on notation/terminology}

Finally, we show that $K''_*$ is contractible with $H_0\cong C$.
This is similar to the proof of Proposition \ref{bcontract}, but a bit more
complicated since there is no single blob which contains the support of all blob diagrams
in $K''_*$.
Let $x$ be a cycle of degree greater than zero in $K''_*$.
The union of the supports of the diagrams in $x$ does not contain $*$, so there exists a
ball $B \subset S^1$ containing the union of the supports and not containing $*$.
Adding $B$ as an outermost blob to each summand of $x$ gives a chain $y$ with $\bd y = x$.
Thus $H_i(K''_*) \cong 0$ for $i> 0$ and $K''_*$ is contractible.

To see that $H_0(K''_*) \cong C$, consider the map $p: K''_0 \to C$ which sends a 0-blob
diagram to the product of its labeled points.
$p$ is clearly surjective.
It's also easy to see that $p(\bd K''_1) = 0$.
Finally, if $p(y) = 0$ then there exists a blob $B \sub S^1$ which contains
all of the labeled points (other than *) of all of the summands of $y$.
This allows us to construct $x\in K''_1$ such that $\bd x = y$.
(The label of $B$ is the restriction of $y$ to $B$.)
It follows that $H_0(K''_*) \cong C$.
\end{proof}

\subsection{An explicit chain map in low degrees}

For purposes of illustration, we describe an explicit chain map
$\HC_*(M) \to K_*(M)$
between the Hochschild complex and the blob complex (with bimodule point)
for degree $\le 2$.
This map can be completed to a homotopy equivalence, though we will not prove that here.
There are of course many such maps; what we describe here is one of the simpler possibilities.
%Describing the extension to higher degrees is straightforward but tedious.
%\nn{but probably we should include the general case in a future version of this paper}

Recall that in low degrees $\HC_*(M)$ is
\[
	\cdots \stackrel{\bd}{\to} M \otimes C\otimes C \stackrel{\bd}{\to} 
			M \otimes C \stackrel{\bd}{\to} M
\]
with
\eqar{
	\bd(m\otimes a)  & = & ma - am \\
	\bd(m\otimes a \otimes b) & = & ma\otimes b - m\otimes ab + bm \otimes a .
}
In degree 0, we send $m\in M$ to the 0-blob diagram $\mathfig{0.05}{hochschild/0-chains}$; the base point
in $S^1$ is labeled by $m$ and there are no other labeled points.
In degree 1, we send $m\ot a$ to the sum of two 1-blob diagrams
as shown in Figure \ref{fig:hochschild-1-chains}.

\begin{figure}[t]
\begin{equation*}
\mathfig{0.4}{hochschild/1-chains}
\end{equation*}
\begin{align*}
u_1 & = \mathfig{0.05}{hochschild/u_1-1} - \mathfig{0.05}{hochschild/u_1-2} & u_2 & = \mathfig{0.05}{hochschild/u_2-1} - \mathfig{0.05}{hochschild/u_2-2} 
\end{align*}
\caption{The image of $m \tensor a$ in the blob complex.}
\label{fig:hochschild-1-chains}
\end{figure}

\begin{figure}[t]
\begin{equation*}
\mathfig{0.6}{hochschild/2-chains-0}
\end{equation*}
\begin{equation*}
\mathfig{0.4}{hochschild/2-chains-1} \qquad \mathfig{0.4}{hochschild/2-chains-2}
\end{equation*}
\caption{The 0-, 1- and 2-chains in the image of $m \tensor a \tensor b$.
Only the supports of the 1- and 2-blobs are shown.}
\label{fig:hochschild-2-chains}
\end{figure}

\begin{figure}[t]
\begin{equation*}
A = \mathfig{0.1}{hochschild/v_1} + \mathfig{0.1}{hochschild/v_2} + \mathfig{0.1}{hochschild/v_3} + \mathfig{0.1}{hochschild/v_4}
\end{equation*}
\begin{align*}
v_1 & = \mathfig{0.05}{hochschild/v_1-1} -  \mathfig{0.05}{hochschild/v_1-2} &  v_2 & = \mathfig{0.05}{hochschild/v_2-1} -  \mathfig{0.05}{hochschild/v_2-2} \\ 
v_3 & = \mathfig{0.05}{hochschild/v_3-1} -  \mathfig{0.05}{hochschild/v_3-2} &  v_4 & = \mathfig{0.05}{hochschild/v_4-1} -  \mathfig{0.05}{hochschild/v_4-2}
\end{align*}
\caption{One of the 2-cells from Figure \ref{fig:hochschild-2-chains}.}
\label{fig:hochschild-example-2-cell}
\end{figure}

In degree 2, we send $m\ot a \ot b$ to the sum of 24 ($=6\cdot4$) 2-blob diagrams as shown in
Figure \ref{fig:hochschild-2-chains}.
In Figure \ref{fig:hochschild-2-chains} the 1- and 2-blob diagrams are indicated only by their support.
We leave it to the reader to determine the labels of the 1-blob diagrams.
Each 2-cell in the figure is labeled by a ball $V$ in $S^1$ which contains the support of all
1-blob diagrams in its boundary.
Such a 2-cell corresponds to a sum of the 2-blob diagrams obtained by adding $V$
as an outer (non-twig) blob to each of the 1-blob diagrams in the boundary of the 2-cell.
Figure \ref{fig:hochschild-example-2-cell} shows this explicitly for the 2-cell
labeled $A$ in Figure \ref{fig:hochschild-2-chains}.
Note that the (blob complex) boundary of this sum of 2-blob diagrams is
precisely the sum of the 1-blob diagrams corresponding to the boundary of the 2-cell.
(Compare with the proof of \ref{bcontract}.)
